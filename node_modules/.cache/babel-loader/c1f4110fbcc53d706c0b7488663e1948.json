{"ast":null,"code":"import _classCallCheck from \"C:\\\\PROYECTOS\\\\recicla\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"C:\\\\PROYECTOS\\\\recicla\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"C:\\\\PROYECTOS\\\\recicla\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"C:\\\\PROYECTOS\\\\recicla\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"C:\\\\PROYECTOS\\\\recicla\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"C:\\\\PROYECTOS\\\\recicla\\\\src\\\\components\\\\control_panel\\\\Smtp.js\";\n\n/**\r\n* CLASS Smtp\r\n*\r\n* Contiene el contenedor principal de empresas\r\n*\r\n* @author Hector Morales <warrior1987@gmail.com>\r\n*/\nimport React, { Component } from 'react';\nimport FormDataGrid from '../data_grid/FormDataGrid';\nimport { cargarFilas } from '../api_calls/ApiCalls';\nimport alertify from 'alertifyjs';\nimport '../../css/alertify.css';\n\nvar Smtp =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(Smtp, _Component);\n\n  function Smtp(props) {\n    var _this;\n\n    _classCallCheck(this, Smtp);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(Smtp).call(this, props));\n    _this.state = {\n      idRow: 0\n    };\n    return _this;\n  }\n\n  _createClass(Smtp, [{\n    key: \"componentWillMount\",\n    value: function componentWillMount() {\n      var _this2 = this;\n\n      var sqlParams = {\n        sqlCols: ['correo', 'servidor', 'puerto', 'autenticacion', 'password', 'seguridad_smtp'],\n        sqlEmpresa: \"true\",\n        mode: 'rows'\n      };\n      cargarFilas('companies_smtp', '', 1, 0, '', '', sqlParams, 'rows').then(function (res) {\n        var response = res.data;\n\n        if (response.msg === \"error\") {\n          alertify.alert('Error!', 'Ha ocurrido un error accesando a la base de datos!<br />Codigo de Error: ' + response.detail);\n        } else {\n          var idRow = 0;\n\n          if (response.length > 0) {\n            idRow = response[0];\n          }\n\n          _this2.setState({\n            idRow: idRow\n          }, function () {//this.props.funcionClick('FormDataGrid',formParams);               \n          }); // if(response.)                                  \n          // this.setState({ loading: false },()=>{\n          //     globalState.dispatch({\n          //         type   : \"userData\",\n          //         params : response\n          //     });                                      \n          //     globalState.dispatch({\n          //         type   : \"nameUser\",\n          //         params : response[0].primer_nombre.toUpperCase()+' '+response[0].primer_apellido.toUpperCase()\n          //     });\n          //     globalState.dispatch({\n          //         type   : \"nameCompany\",\n          //         params : response1[0].razon_social.toUpperCase()\n          //     });\n          //     globalState.dispatch({\n          //         type   : \"imagen_usuario\",\n          //         params : response[0].imagen_usuario\n          //     }); \n          //     globalState.dispatch({\n          //         type   : \"idRol\",\n          //         params : response[0].id_rol\n          //     });\n          // });\n\n        }\n      }).catch(function (err) {\n        alertify.alert('Error!', 'No se ha logrado la conexion con el servidor!<br />' + err);\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var formFields = [{\n        label: 'Servidor SMTP',\n        field: 'servidor',\n        type: 'text',\n        validation: '',\n        required: 'true'\n      }, {\n        label: 'Usuario',\n        field: 'correo',\n        type: 'text',\n        validation: 'email',\n        required: 'true'\n      }, {\n        label: 'Password',\n        field: 'password',\n        type: 'text',\n        validation: '',\n        required: 'true'\n      }, {\n        label: 'Puerto',\n        field: 'puerto',\n        type: 'text',\n        validation: 'entero',\n        required: 'true'\n      }, {\n        label: 'Seguridad',\n        field: 'seguridad_smtp',\n        type: 'select',\n        validation: '',\n        required: 'true',\n        dinamic: 'false',\n        valueName: 'nombre',\n        options: [{\n          id: 'no',\n          nombre: 'Ninguna'\n        }, {\n          id: 'tls',\n          nombre: 'TLS'\n        }, {\n          id: 'ssl',\n          nombre: 'SSL'\n        }]\n      },, {\n        label: 'Autenticacion',\n        field: 'autenticacion',\n        type: 'select',\n        validation: '',\n        required: 'true',\n        dinamic: 'false',\n        valueName: 'nombre',\n        options: [{\n          id: 'no',\n          nombre: 'No'\n        }, {\n          id: 'si',\n          nombre: 'Si'\n        }]\n      }, {\n        label: '',\n        field: 'id_empresa',\n        type: 'campo_empresa',\n        validation: '',\n        required: 'true'\n      }];\n      return (//carga el componente que contiene la grilla de datos            \n        React.createElement(FormDataGrid, {\n          parametro: [\"formFields\"],\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 162\n          },\n          __self: this\n        })\n      );\n    }\n  }]);\n\n  return Smtp;\n}(Component);\n\nexport default Smtp;","map":{"version":3,"sources":["C:\\PROYECTOS\\recicla\\src\\components\\control_panel\\Smtp.js"],"names":["React","Component","FormDataGrid","cargarFilas","alertify","Smtp","props","state","idRow","sqlParams","sqlCols","sqlEmpresa","mode","then","res","response","data","msg","alert","detail","length","setState","catch","err","formFields","label","field","type","validation","required","dinamic","valueName","options","id","nombre"],"mappings":"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","sourcesContent":["/**\r\n* CLASS Smtp\r\n*\r\n* Contiene el contenedor principal de empresas\r\n*\r\n* @author Hector Morales <warrior1987@gmail.com>\r\n*/\r\n\r\nimport React, { Component } from 'react';\r\nimport FormDataGrid from '../data_grid/FormDataGrid';\r\nimport {cargarFilas} from '../api_calls/ApiCalls';\r\nimport alertify from 'alertifyjs';\r\nimport '../../css/alertify.css';\r\n\r\nclass Smtp extends Component {\r\n\r\n    constructor(props){\r\n        super(props);\r\n        this.state={\r\n            idRow : 0\r\n        };        \r\n    }\r\n    componentWillMount(){\r\n        let sqlParams = {\r\n                            sqlCols : [\r\n                                'correo',\r\n                                'servidor',\r\n                                'puerto',\r\n                                'autenticacion',\r\n                                'password',\r\n                                'seguridad_smtp'                                \r\n                            ],\r\n                            sqlEmpresa : \"true\",\r\n                            mode : 'rows'                                                 \r\n                        }\r\n\r\n        cargarFilas('companies_smtp','',1,0,'','',sqlParams,'rows')\r\n        .then(res => {\r\n            var response = res.data; \r\n            if (response.msg === \"error\") {\r\n                alertify.alert('Error!', 'Ha ocurrido un error accesando a la base de datos!<br />Codigo de Error: '+response.detail);\r\n            } \r\n            else{\r\n                let idRow = 0;\r\n                if(response.length > 0){\r\n                    idRow = response[0];\r\n                }\r\n                this.setState({ idRow: idRow },()=>{\r\n                   \r\n                            \r\n                    //this.props.funcionClick('FormDataGrid',formParams);               \r\n                });\r\n                // if(response.)                                  \r\n                // this.setState({ loading: false },()=>{\r\n                //     globalState.dispatch({\r\n                //         type   : \"userData\",\r\n                //         params : response\r\n                //     });                                      \r\n                //     globalState.dispatch({\r\n                //         type   : \"nameUser\",\r\n                //         params : response[0].primer_nombre.toUpperCase()+' '+response[0].primer_apellido.toUpperCase()\r\n                //     });\r\n                //     globalState.dispatch({\r\n                //         type   : \"nameCompany\",\r\n                //         params : response1[0].razon_social.toUpperCase()\r\n                //     });\r\n                //     globalState.dispatch({\r\n                //         type   : \"imagen_usuario\",\r\n                //         params : response[0].imagen_usuario\r\n                //     }); \r\n                //     globalState.dispatch({\r\n                //         type   : \"idRol\",\r\n                //         params : response[0].id_rol\r\n                //     });\r\n                // });\r\n                \r\n            }\r\n        })\r\n        .catch( err => {            \r\n            alertify.alert('Error!', 'No se ha logrado la conexion con el servidor!<br />'+err);                            \r\n        }); \r\n    }\r\n  \trender() {\r\n        let formFields = [\r\n                            {\r\n                                label : 'Servidor SMTP',\r\n                                field : 'servidor',\r\n                                type  : 'text',\r\n                                validation : '',\r\n                                required : 'true'                                        \r\n                            },\r\n                            {\r\n                                label : 'Usuario',\r\n                                field : 'correo',\r\n                                type  : 'text',\r\n                                validation : 'email',\r\n                                required : 'true'                                        \r\n                            },\r\n                            {\r\n                                label : 'Password',\r\n                                field : 'password',\r\n                                type  : 'text',\r\n                                validation : '',\r\n                                required : 'true'                                        \r\n                            },\r\n                            {\r\n                                label : 'Puerto',\r\n                                field : 'puerto',\r\n                                type  : 'text',\r\n                                validation : 'entero',\r\n                                required : 'true'                                        \r\n                            },                                    \r\n                            {\r\n                                label : 'Seguridad',\r\n                                field : 'seguridad_smtp',\r\n                                type  : 'select',\r\n                                validation : '',\r\n                                required : 'true',\r\n                                dinamic : 'false',\r\n                                valueName : 'nombre',\r\n                                options :  [{\r\n                                                id: 'no',\r\n                                                nombre: 'Ninguna',\r\n                                            },\r\n                                            {\r\n                                                id: 'tls',\r\n                                                nombre: 'TLS', \r\n                                            },\r\n                                            {\r\n                                                id: 'ssl',\r\n                                                nombre: 'SSL', \r\n                                            }],                                        \r\n                            },  \r\n                            ,                                    \r\n                            {\r\n                                label : 'Autenticacion',\r\n                                field : 'autenticacion',\r\n                                type  : 'select',\r\n                                validation : '',\r\n                                required : 'true',\r\n                                dinamic : 'false',\r\n                                valueName : 'nombre',\r\n                                options :  [{\r\n                                                id: 'no',\r\n                                                nombre: 'No',\r\n                                            },\r\n                                            {\r\n                                                id: 'si',\r\n                                                nombre: 'Si', \r\n                                            }],                                        \r\n                            },\r\n                            {\r\n                                label : '',\r\n                                field : 'id_empresa',\r\n                                type  : 'campo_empresa',\r\n                                validation : '',\r\n                                required : 'true'                                        \r\n                            },                                                                 \r\n                        ] \r\n                     \r\n        return (//carga el componente que contiene la grilla de datos            \r\n            <FormDataGrid \r\n                parametro = {[\r\n                                \"formFields\" : formFields\r\n                            ]} \r\n                        \r\n            />             \r\n        )\r\n    } \r\n}\r\n\r\nexport default Smtp"]},"metadata":{},"sourceType":"module"}