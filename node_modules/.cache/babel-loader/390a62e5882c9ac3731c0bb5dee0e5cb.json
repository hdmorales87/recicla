{"ast":null,"code":"import _defineProperty from \"F:\\\\PROYECTOS\\\\recicla\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/defineProperty\";\nimport _classCallCheck from \"F:\\\\PROYECTOS\\\\recicla\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"F:\\\\PROYECTOS\\\\recicla\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"F:\\\\PROYECTOS\\\\recicla\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"F:\\\\PROYECTOS\\\\recicla\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"F:\\\\PROYECTOS\\\\recicla\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";\nimport _assertThisInitialized from \"F:\\\\PROYECTOS\\\\recicla\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/assertThisInitialized\";\nvar _jsxFileName = \"F:\\\\PROYECTOS\\\\recicla\\\\src\\\\components\\\\data_grid\\\\FormDataGrid.js\";\n\n/**\r\n* CLASS FormDataGrid\r\n*\r\n* Contiene el formulario dinamico del datagrid\r\n*\r\n* @author Hector Morales <warrior1987@gmail.com>\r\n*/\nimport React, { Component } from 'react';\nimport Form from 'react-bootstrap/Form';\nimport Button from 'react-bootstrap/Button';\nimport Col from 'react-bootstrap/Col';\nimport ComboBoxFormDataGrid from './ComboBoxFormDataGrid';\nimport configJson from '../configuration/configuration.json';\nimport globalState from '../configuration/GlobalState';\nimport { divMouseOver, divMouseOut, validarEmail, modalLoading } from '../configuration/GlobalFunctions';\nimport RichTextEditor from 'react-rte';\nimport Window from '../window/Window';\nimport { insertarActualizarFila, eliminarFilas } from '../api_calls/ApiCalls';\nimport alertify from 'alertifyjs';\nimport '../../css/alertify.css';\nimport './dataGrid.css';\n\nvar FormDataGrid =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(FormDataGrid, _Component);\n\n  function FormDataGrid(props) {\n    var _this;\n\n    _classCallCheck(this, FormDataGrid);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(FormDataGrid).call(this, props)); //cargar dinamicamente los estados        \n\n    _this.state = {}; //botones de cancelar y guardar      \n\n    _this.handleCancelButton = _this.handleCancelButton.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.handleSaveButton = _this.handleSaveButton.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.handleConfirmAction = _this.handleConfirmAction.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.funcionEditDataSelect = _this.funcionEditDataSelect.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    return _this;\n  }\n\n  _createClass(FormDataGrid, [{\n    key: \"cargarCampos\",\n    value: function cargarCampos() {\n      var _this2 = this;\n\n      this.props.parametro.formFields.forEach(function (formFields, i) {\n        if (_this2.props.parametro.idRow !== 0) {\n          if (_this2.props.parametro.idRow[formFields.field] === '' || _this2.props.parametro.idRow[formFields.field] === undefined || _this2.props.parametro.idRow[formFields.field] === null) {\n            if (formFields.type === 'campo_empresa') {\n              _this2.setState(_defineProperty({}, formFields.field, globalState.getState().companyData[0].id));\n            } else if (formFields.type === 'textarea-rich') {\n              _this2.setState(_defineProperty({}, formFields.field, RichTextEditor.createEmptyValue()));\n            } else {\n              _this2.setState(_defineProperty({}, formFields.field, ''));\n            }\n          } else {\n            if (formFields.type === 'textarea-rich') {\n              _this2.setState(_defineProperty({}, formFields.field, RichTextEditor.createValueFromString(_this2.props.parametro.idRow[formFields.field], 'html')));\n            } else {\n              _this2.setState(_defineProperty({}, formFields.field, _this2.props.parametro.idRow[formFields.field]));\n            }\n\n            if (formFields.type === 'data_select') {\n              //adicional pone el texto en el input del data select\n              _this2.setState(_defineProperty({}, formFields.dataParams.fetchData.valueField, _this2.props.parametro.idRow[formFields.dataParams.fetchData.valueField]));\n            }\n          }\n        } else {\n          if (formFields.type === 'select') {\n            if (formFields.dinamic === 'false') {\n              _this2.setState(_defineProperty({}, formFields.field, formFields.options[0].id));\n            } else {\n              _this2.setState(_defineProperty({}, formFields.field, 1));\n            }\n          } else if (formFields.type === 'campo_empresa') {\n            _this2.setState(_defineProperty({}, formFields.field, globalState.getState().companyData[0].id));\n          } else if (formFields.type === 'textarea-rich') {\n            _this2.setState(_defineProperty({}, formFields.field, RichTextEditor.createEmptyValue()));\n          } else {\n            _this2.setState(_defineProperty({}, formFields.field, ''));\n          }\n        }\n\n        if (formFields.type === 'hidden') {\n          _this2.setState(_defineProperty({}, formFields.field, formFields.value));\n        }\n      });\n    }\n  }, {\n    key: \"componentWillMount\",\n    value: function componentWillMount() {\n      this.cargarCampos();\n    }\n  }, {\n    key: \"componentDidUpdate\",\n    value: function componentDidUpdate(prevProps) {\n      if (this.props.parametro !== prevProps.parametro) {\n        this.cargarCampos();\n      }\n    }\n  }, {\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      this.setState({\n        windowDataSelectId: ''\n      });\n    }\n  }, {\n    key: \"handleCancelButton\",\n    value: function handleCancelButton() {\n      this.props.funcionClick(this.props.parametro.mainContainer);\n    }\n  }, {\n    key: \"handleSaveButton\",\n    value: function handleSaveButton(id) {\n      var _this3 = this;\n\n      //recorrido dinamico de los campos y cargar dinamicamente el arrayData\n      var arrayData = {};\n      var errors = 0;\n      this.props.parametro.formFields.forEach(function (formFields, i) {\n        if (formFields.type === 'textarea-rich') {\n          if (!_this3.state[formFields.field].getEditorState().getCurrentContent().hasText()) {\n            alertify.error('Digite el campo ' + formFields.label + '!');\n            errors++;\n            return;\n          } else {\n            arrayData[formFields.field] = _this3.state[formFields.field].toString('html');\n          }\n        } else if ((_this3.state[formFields.field] === undefined || _this3.state[formFields.field] === '') && formFields.required === 'true') {\n          alertify.error('Digite el campo ' + formFields.label + '!');\n          errors++;\n          return;\n        } else {\n          if (formFields.validation === 'email') {\n            if (!validarEmail(_this3.state[formFields.field])) {\n              alertify.error('No es una cuenta de Email Valida en el campo ' + formFields.label + '!');\n              errors++;\n              return;\n            }\n          }\n\n          arrayData[formFields.field] = _this3.state[formFields.field];\n        }\n      }); //hay errores?\n\n      if (errors > 0) {\n        return;\n      }\n\n      var method = '';\n\n      if (id > 0) {\n        //si es update o insert           \n        method = 'put';\n        arrayData['id'] = id; //mandar el ID\n      } else {\n        method = 'post';\n      }\n\n      modalLoading(true); //ajax que llama a la API para insertar o actualizar        \n\n      insertarActualizarFila(method, this.props.parametro.apiField, arrayData).then(function (response) {\n        modalLoading(false);\n        response = response.data;\n\n        if (response.msg === 'error') {\n          alertify.alert('Error!', 'Ha ocurrido un error accesando a la base de datos!<br />Codigo de Error: ' + response.detail);\n        } else {\n          //aqui es donde refresca el datagrid una vez se han hecho los cambios\n          _this3.props.funcionClick(_this3.props.parametro.mainContainer);\n        }\n      }).catch(function (error) {\n        modalLoading(false);\n        alertify.alert('Error!', 'No se ha logrado la conexion con el servidor!<br />' + error);\n      });\n    } //manejo dinamico de los estados, con esto actualizo el valor de cualquier campo para enviarlos a la API\n\n  }, {\n    key: \"handleStateChange\",\n    value: function handleStateChange(validation, funcionOnChange, e) {\n      var ingresado = null; //validaciones   \n\n      if (validation === 'textarea-rich') {\n        ingresado = e;\n      } else {\n        ingresado = e.target.value;\n      }\n\n      if (validation === 'mayusculas') {\n        ingresado = ingresado.toUpperCase();\n      }\n\n      if (validation === 'email') {\n        ingresado = ingresado.toLowerCase();\n      }\n\n      if (validation === 'entero') {\n        ingresado = ingresado.replace(/[^\\d]/g, '');\n      }\n\n      if (validation === 'numero_real') {\n        ingresado = ingresado.replace(/[^\\d.]/g, '');\n      }\n\n      if (validation === 'numero_texto') {\n        ingresado = ingresado.replace(/[^a-zA-Z0-9&]/g, '');\n        ingresado = ingresado.toUpperCase();\n      }\n\n      if (typeof funcionOnChange === 'function') {\n        //la funcion onchange del combo  \n        funcionOnChange(ingresado);\n      }\n\n      if (validation === 'textarea-rich') {\n        this.setState(_defineProperty({}, funcionOnChange, ingresado));\n      } else {\n        this.setState(_defineProperty({}, e.target.name, ingresado));\n      }\n    }\n  }, {\n    key: \"handleDeleteButton\",\n    value: function handleDeleteButton(id) {\n      //boton eliminar\n      alertify.confirm('Confirmacion', 'Esta seguro(a) de eliminar este item?', this.handleConfirmAction.bind(this, id), function () {});\n    }\n  }, {\n    key: \"handleConfirmAction\",\n    value: function handleConfirmAction(id) {\n      var _this4 = this;\n\n      //CODIGO PARA ELIMINAR LA FILA        \n      eliminarFilas(this.props.parametro.apiField, id).then(function (response) {\n        response = response.data;\n\n        if (response.msg === 'error') {\n          alertify.alert('Error!', 'Ha ocurrido un error accesando a la base de datos!<br />Codigo de Error: ' + response.detail);\n        } else if (response.msg === 'notExist') {\n          alertify.alert('Error!', 'El dato a eliminar no existe!');\n        }\n\n        _this4.props.funcionClick('WelcomePage');\n\n        _this4.props.funcionClick(_this4.props.parametro.mainContainer);\n      }).catch(function (error) {\n        alertify.alert('Error!', 'No se ha logrado la conexion con el servidor!<br />' + error);\n      });\n    }\n  }, {\n    key: \"handleDataSelect\",\n    value: function handleDataSelect(dataParams) {\n      var _this5 = this;\n\n      //al dar clic en el campo de texto\n      dataParams['funcionEdit'] = this.funcionEditDataSelect;\n      this.setState({\n        windowDataSelectId: \"windowFormDataSelect_\" + this.props.parametro.mainContainer + \"_\" + dataParams.idField\n      }, function () {\n        globalState.dispatch({\n          type: \"windowFormDataSelect_\" + _this5.props.parametro.mainContainer + \"_\" + dataParams.idField,\n          params: {\n            visible: true,\n            params: dataParams\n          }\n        });\n      });\n    }\n  }, {\n    key: \"funcionEditDataSelect\",\n    value: function funcionEditDataSelect(data, params) {\n      var _this6 = this;\n\n      //la funcion que carga los datos del DataSelect        \n      this.setState(_defineProperty({}, params.idField, data.id));\n      this.setState(_defineProperty({}, params.valueField, data[params.fieldFetch]));\n      this.setState({\n        windowDataSelectId: \"windowFormDataSelect_\" + this.props.parametro.mainContainer + \"_\" + params.idField\n      }, function () {\n        globalState.dispatch({\n          type: \"windowFormDataSelect_\" + _this6.props.parametro.mainContainer + \"_\" + params.idField,\n          params: {\n            visible: false\n          }\n        });\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this7 = this;\n\n      var titulo = 'Agregar';\n      var id = 0;\n      var field = '';\n      var field1 = '';\n      var count = 1;\n\n      if (this.props.parametro.idRow !== 0) {\n        titulo = 'Editar';\n        id = this.props.parametro.idRow.id;\n      }\n\n      return (//carga dinamica del formulario\n        React.createElement(\"div\", {\n          className: \"container\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 261\n          },\n          __self: this\n        }, React.createElement(\"div\", {\n          className: \"content\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 262\n          },\n          __self: this\n        }, React.createElement(\"div\", {\n          className: \"table-responsive mt-4\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 263\n          },\n          __self: this\n        }, React.createElement(\"div\", {\n          className: \"titulo\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 264\n          },\n          __self: this\n        }, titulo, \" \", this.props.parametro.titulo)), React.createElement(\"hr\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 266\n          },\n          __self: this\n        }), React.createElement(\"div\", {\n          className: \"table-responsive mb-3\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 267\n          },\n          __self: this\n        }, React.createElement(Form, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 268\n          },\n          __self: this\n        }, //cargar dinamicamente los campos, dependiendo si es input o select                                \n        this.props.parametro.formFields.map(function (formFields, i) {\n          if (formFields.type === 'text' || formFields.type === 'date') {\n            field = React.createElement(React.Fragment, null, field, React.createElement(Form.Group, {\n              as: Col,\n              controlId: \"formField_\" + formFields.field,\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 273\n              },\n              __self: this\n            }, React.createElement(Form.Label, {\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 274\n              },\n              __self: this\n            }, formFields.label), React.createElement(Form.Control, {\n              name: formFields.field,\n              type: formFields.type,\n              onChange: _this7.handleStateChange.bind(_this7, formFields.validation, ''),\n              value: _this7.state[formFields.field],\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 275\n              },\n              __self: this\n            })));\n          } else if (formFields.type === 'textarea') {\n            if (count % 2 === 0) {\n              count += 3;\n              field1 = field;\n              field = '';\n            }\n\n            return React.createElement(\"div\", {\n              key: i,\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 284\n              },\n              __self: this\n            }, React.createElement(Form.Row, {\n              style: {\n                width: '99%'\n              },\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 285\n              },\n              __self: this\n            }, field1), React.createElement(Form.Row, {\n              style: {\n                width: '99%'\n              },\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 288\n              },\n              __self: this\n            }, React.createElement(Form.Group, {\n              as: Col,\n              key: i,\n              controlId: \"formField_\" + formFields.field,\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 289\n              },\n              __self: this\n            }, React.createElement(Form.Label, {\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 290\n              },\n              __self: this\n            }, formFields.label), React.createElement(Form.Control, {\n              name: formFields.field,\n              as: \"textarea\",\n              rows: formFields.rows,\n              onChange: _this7.handleStateChange.bind(_this7, formFields.validation, ''),\n              value: _this7.state[formFields.field],\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 291\n              },\n              __self: this\n            }))));\n          } else if (formFields.type === 'textarea-rich') {\n            if (count % 2 === 0) {\n              count += 3;\n              field1 = field;\n              field = '';\n            }\n\n            return React.createElement(\"div\", {\n              key: i,\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 302\n              },\n              __self: this\n            }, React.createElement(Form.Row, {\n              style: {\n                width: '99%'\n              },\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 303\n              },\n              __self: this\n            }, field1), React.createElement(Form.Row, {\n              style: {\n                width: '99%'\n              },\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 306\n              },\n              __self: this\n            }, React.createElement(Form.Group, {\n              as: Col,\n              key: i,\n              controlId: \"formField_\" + formFields.field,\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 307\n              },\n              __self: this\n            }, React.createElement(Form.Label, {\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 308\n              },\n              __self: this\n            }, formFields.label), React.createElement(RichTextEditor, {\n              name: formFields.field,\n              onChange: _this7.handleStateChange.bind(_this7, 'textarea-rich', formFields.field),\n              value: _this7.state[formFields.field],\n              editorClassName: \"richTextEditor\",\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 309\n              },\n              __self: this\n            }))));\n          } else if (formFields.type === 'select') {\n            field = React.createElement(React.Fragment, null, field, React.createElement(Form.Group, {\n              as: Col,\n              controlId: \"formField_\" + formFields.field,\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 320\n              },\n              __self: this\n            }, React.createElement(Form.Label, {\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 321\n              },\n              __self: this\n            }, formFields.label), React.createElement(ComboBoxFormDataGrid, {\n              valueName: formFields.valueName,\n              options: formFields.options,\n              apiField: formFields.apiField,\n              dinamic: formFields.dinamic,\n              name: formFields.field,\n              type: formFields.type,\n              fieldUpdate: formFields.fieldUpdate,\n              valueUpdate: _this7.state[formFields.fieldUpdate],\n              functionChange: _this7.handleStateChange.bind(_this7, formFields.validation, formFields.onChange),\n              value: _this7.state[formFields.field],\n              sqlParams: formFields.sqlParams,\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 322\n              },\n              __self: this\n            })));\n          } else if (formFields.type === 'data_select') {\n            field = React.createElement(React.Fragment, null, field, React.createElement(Form.Group, {\n              as: Col,\n              controlId: \"formField_\" + formFields.field,\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 337\n              },\n              __self: this\n            }, React.createElement(\"input\", {\n              type: \"hidden\",\n              name: formFields.field,\n              value: _this7.state[formFields.field],\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 338\n              },\n              __self: this\n            }), React.createElement(Form.Label, {\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 339\n              },\n              __self: this\n            }, formFields.label), React.createElement(Form.Control, {\n              style: {\n                backgroundColor: '#fff'\n              },\n              name: formFields.dataParams.fetchData.valueField,\n              type: \"text\",\n              onClick: _this7.handleDataSelect.bind(_this7, formFields.dataParams),\n              value: _this7.state[formFields.dataParams.fetchData.valueField] || 'Seleccione...',\n              readOnly: true,\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 340\n              },\n              __self: this\n            })));\n          } else if (formFields.type === 'campo_empresa') {\n            return React.createElement(\"input\", {\n              key: i,\n              type: \"hidden\",\n              name: formFields.field,\n              value: _this7.state[formFields.field],\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 344\n              },\n              __self: this\n            });\n          } else if (formFields.type === 'hidden') {\n            return React.createElement(\"input\", {\n              key: i,\n              type: \"hidden\",\n              name: formFields.field,\n              value: _this7.state[formFields.field],\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 347\n              },\n              __self: this\n            });\n          } //organizar las columnas en filas\n\n\n          if (count % 2 === 0) {\n            count++;\n            field1 = field;\n            field = '';\n            return React.createElement(Form.Row, {\n              style: {\n                width: '99%'\n              },\n              key: i,\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 354\n              },\n              __self: this\n            }, field1);\n          } else {\n            count++;\n          }\n\n          return null;\n        }), count % 2 === 0 ? React.createElement(Form.Row, {\n          style: {\n            width: '99%'\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 366\n          },\n          __self: this\n        }, field) : '', React.createElement(Form.Row, {\n          style: {\n            width: '99%'\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 368\n          },\n          __self: this\n        }, this.props.parametro.enableBtnEdit === true || this.props.parametro.idRow === 0 ? React.createElement(Button, {\n          id: \"formGridBtnSave\",\n          className: \"float-left mr-3\",\n          variant: \"primary\",\n          onClick: this.handleSaveButton.bind(this, id),\n          style: {\n            backgroundColor: configJson.fondoBotonGrilla\n          },\n          onMouseOut: divMouseOut.bind(this, 'formGridBtnSave', configJson.fondoBotonGrilla),\n          onMouseOver: divMouseOver.bind(this, 'formGridBtnSave', configJson.fondoBotonGrilla),\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 371\n          },\n          __self: this\n        }, \"GUARDAR\") : '', React.createElement(Button, {\n          variant: \"secondary\",\n          className: \"float-left mr-3\",\n          onClick: this.handleCancelButton.bind(this),\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 376\n          },\n          __self: this\n        }, \"CANCELAR\"), this.props.parametro.idRow !== 0 && this.props.parametro.enableBtnDel === true ? React.createElement(Button, {\n          id: \"formGridBtnDelete\",\n          className: \"float-left mr-3\",\n          variant: \"danger\",\n          onClick: this.handleDeleteButton.bind(this, id),\n          onMouseOut: divMouseOut.bind(this, \"formGridBtnDelete\", \"#dc3545\"),\n          onMouseOver: divMouseOver.bind(this, \"formGridBtnDelete\", \"#dc3545\"),\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 381\n          },\n          __self: this\n        }, \"ELIMINAR\") : \"\")), React.createElement(Window //ventana para el data select\n        , {\n          id: this.state.windowDataSelectId,\n          title: \"Seleccione ...\",\n          width: \"400px\",\n          height: \"300px\",\n          tbar: \"false\",\n          componente: \"DataGridSelect\",\n          params: \"\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 388\n          },\n          __self: this\n        }))))\n      );\n    }\n  }]);\n\n  return FormDataGrid;\n}(Component);\n\nexport default FormDataGrid;","map":{"version":3,"sources":["F:\\PROYECTOS\\recicla\\src\\components\\data_grid\\FormDataGrid.js"],"names":["React","Component","Form","Button","Col","ComboBoxFormDataGrid","configJson","globalState","divMouseOver","divMouseOut","validarEmail","modalLoading","RichTextEditor","Window","insertarActualizarFila","eliminarFilas","alertify","FormDataGrid","props","state","handleCancelButton","bind","handleSaveButton","handleConfirmAction","funcionEditDataSelect","parametro","formFields","forEach","i","idRow","field","undefined","type","setState","getState","companyData","id","createEmptyValue","createValueFromString","dataParams","fetchData","valueField","dinamic","options","value","cargarCampos","prevProps","windowDataSelectId","funcionClick","mainContainer","arrayData","errors","getEditorState","getCurrentContent","hasText","error","label","toString","required","validation","method","apiField","then","response","data","msg","alert","detail","catch","funcionOnChange","e","ingresado","target","toUpperCase","toLowerCase","replace","name","confirm","idField","dispatch","params","visible","fieldFetch","titulo","field1","count","map","handleStateChange","width","rows","valueName","fieldUpdate","onChange","sqlParams","backgroundColor","handleDataSelect","enableBtnEdit","fondoBotonGrilla","enableBtnDel","handleDeleteButton"],"mappings":"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","sourcesContent":["/**\r\n* CLASS FormDataGrid\r\n*\r\n* Contiene el formulario dinamico del datagrid\r\n*\r\n* @author Hector Morales <warrior1987@gmail.com>\r\n*/\r\n\r\nimport React, { Component } from 'react';\r\nimport Form from 'react-bootstrap/Form';\r\nimport Button from 'react-bootstrap/Button';\r\nimport Col from 'react-bootstrap/Col';\r\nimport ComboBoxFormDataGrid from './ComboBoxFormDataGrid';\r\nimport configJson from '../configuration/configuration.json';\r\nimport globalState from '../configuration/GlobalState';\r\nimport {divMouseOver,divMouseOut,validarEmail,modalLoading} from '../configuration/GlobalFunctions';\r\nimport RichTextEditor from 'react-rte';\r\nimport Window from '../window/Window';\r\nimport {insertarActualizarFila,eliminarFilas} from '../api_calls/ApiCalls';\r\nimport alertify from 'alertifyjs';\r\nimport '../../css/alertify.css';\r\nimport './dataGrid.css'; \r\n\r\nclass FormDataGrid extends Component {\r\n  \t\r\n  \tconstructor(props) {\r\n        super(props);\r\n        //cargar dinamicamente los estados        \r\n        this.state = {};           \r\n        //botones de cancelar y guardar      \r\n        this.handleCancelButton = this.handleCancelButton.bind(this);\r\n        this.handleSaveButton   = this.handleSaveButton.bind(this);\r\n        this.handleConfirmAction = this.handleConfirmAction.bind(this);\r\n        this.funcionEditDataSelect = this.funcionEditDataSelect.bind(this); \r\n                     \r\n    }\r\n    cargarCampos(){\r\n        this.props.parametro.formFields.forEach((formFields,i) => {            \r\n            if(this.props.parametro.idRow !== 0){                \r\n                if(this.props.parametro.idRow[formFields.field] === '' || this.props.parametro.idRow[formFields.field] === undefined || this.props.parametro.idRow[formFields.field] === null){\r\n                    if(formFields.type==='campo_empresa'){\r\n                        this.setState({[formFields.field] : globalState.getState().companyData[0].id}); \r\n                    }\r\n                    else if(formFields.type==='textarea-rich'){                    \r\n                        this.setState({[formFields.field] : RichTextEditor.createEmptyValue()});                          \r\n                    }\r\n                    else{\r\n                        this.setState({[formFields.field] : ''});\r\n                    }\r\n                }\r\n                else{\r\n                    if(formFields.type==='textarea-rich'){                    \r\n                        this.setState({[formFields.field] : RichTextEditor.createValueFromString(this.props.parametro.idRow[formFields.field], 'html')});                          \r\n                    }\r\n                    else{\r\n                        this.setState({[formFields.field] : this.props.parametro.idRow[formFields.field]});        \r\n                    }         \r\n                    if(formFields.type==='data_select'){//adicional pone el texto en el input del data select\r\n                        this.setState({[formFields.dataParams.fetchData.valueField] : this.props.parametro.idRow[formFields.dataParams.fetchData.valueField]});\r\n                    }\r\n                }\r\n            }\r\n            else{\r\n                if(formFields.type==='select'){\r\n                    if(formFields.dinamic === 'false'){\r\n                        this.setState({[formFields.field] : formFields.options[0].id});\r\n                    }\r\n                    else{\r\n                        this.setState({[formFields.field] : 1});\r\n                    }\r\n                }\r\n                else if(formFields.type==='campo_empresa'){\r\n                    this.setState({[formFields.field] : globalState.getState().companyData[0].id});\r\n                }\r\n                else if(formFields.type==='textarea-rich'){                    \r\n                    this.setState({[formFields.field] : RichTextEditor.createEmptyValue()});                          \r\n                }\r\n                else{                    \r\n                    this.setState({[formFields.field] : ''});                          \r\n                }                \r\n            }\r\n            if(formFields.type==='hidden'){\r\n                this.setState({[formFields.field] : formFields.value}); \r\n            }\r\n        });        \r\n    } \r\n    componentWillMount(){        \r\n        this.cargarCampos();\r\n    }\r\n    componentDidUpdate(prevProps){\r\n        if (this.props.parametro !== prevProps.parametro) {           \r\n            this.cargarCampos();\r\n        }          \r\n    } \r\n    componentDidMount(){\r\n        this.setState({windowDataSelectId : ''});\r\n    } \r\n    handleCancelButton(){\r\n        this.props.funcionClick(this.props.parametro.mainContainer);        \r\n    }\r\n    handleSaveButton(id){\r\n        //recorrido dinamico de los campos y cargar dinamicamente el arrayData\r\n        var arrayData = {};\r\n        var errors = 0;            \r\n\r\n        this.props.parametro.formFields.forEach((formFields,i) => {\r\n            if(formFields.type==='textarea-rich'){ \r\n                if(!this.state[formFields.field].getEditorState().getCurrentContent().hasText()){\r\n                    alertify.error('Digite el campo '+formFields.label+'!'); \r\n                    errors++;\r\n                    return; \r\n                }\r\n                else{\r\n                    arrayData[formFields.field] = this.state[formFields.field].toString('html');\r\n                }                \r\n            }\r\n            else if((this.state[formFields.field] === undefined || this.state[formFields.field] === '') && formFields.required === 'true'){\r\n                alertify.error('Digite el campo '+formFields.label+'!'); \r\n                errors++;\r\n                return;\r\n            } \r\n            else{\r\n                if(formFields.validation === 'email'){\r\n                    if(!validarEmail(this.state[formFields.field])){\r\n                        alertify.error('No es una cuenta de Email Valida en el campo '+formFields.label+'!'); \r\n                        errors++;\r\n                        return;\r\n                    }\r\n                }                \r\n                arrayData[formFields.field] = this.state[formFields.field];\r\n            }\r\n        });\r\n        //hay errores?\r\n        if(errors > 0){\r\n            return;\r\n        }            \r\n      \r\n        var method = '';\r\n\r\n        if(id>0){//si es update o insert           \r\n            method = 'put';\r\n            arrayData['id'] = id;//mandar el ID\r\n        }\r\n        else{            \r\n            method = 'post';\r\n        }   \r\n        modalLoading(true);     \r\n        //ajax que llama a la API para insertar o actualizar        \r\n        insertarActualizarFila(method,this.props.parametro.apiField,arrayData)\r\n        .then(response => {\r\n            modalLoading(false); \r\n            response = response.data;\r\n            if(response.msg === 'error'){\r\n                alertify.alert('Error!', 'Ha ocurrido un error accesando a la base de datos!<br />Codigo de Error: '+response.detail); \r\n            }\r\n            else {\r\n                //aqui es donde refresca el datagrid una vez se han hecho los cambios\r\n                this.props.funcionClick(this.props.parametro.mainContainer);                \r\n            }\r\n        })\r\n        .catch(function (error) {\r\n            modalLoading(false); \r\n            alertify.alert('Error!', 'No se ha logrado la conexion con el servidor!<br />'+error);\r\n        });\r\n    }\r\n    //manejo dinamico de los estados, con esto actualizo el valor de cualquier campo para enviarlos a la API\r\n    handleStateChange(validation,funcionOnChange,e) {      \r\n        \r\n        var ingresado = null; //validaciones   \r\n\r\n        if(validation === 'textarea-rich'){\r\n            ingresado = e;\r\n        }\r\n        else{\r\n            ingresado = e.target.value;\r\n        }\r\n\r\n        if(validation === 'mayusculas'){\r\n            ingresado = ingresado.toUpperCase();\r\n        }\r\n        if(validation === 'email'){\r\n            ingresado = ingresado.toLowerCase();\r\n        }\r\n        if(validation === 'entero'){\r\n            ingresado = ingresado.replace(/[^\\d]/g,'');\r\n        }\r\n        if(validation === 'numero_real'){\r\n            ingresado = ingresado.replace(/[^\\d.]/g,'');\r\n        } \r\n        if(validation === 'numero_texto'){\r\n            ingresado = ingresado.replace(/[^a-zA-Z0-9&]/g,'');\r\n            ingresado = ingresado.toUpperCase();\r\n        }        \r\n        if(typeof funcionOnChange === 'function'){//la funcion onchange del combo  \r\n            funcionOnChange(ingresado);           \r\n        }\r\n\r\n        if(validation === 'textarea-rich'){\r\n            this.setState({ [funcionOnChange]: ingresado });\r\n        }\r\n        else{\r\n            this.setState({ [e.target.name]: ingresado });\r\n        }\r\n    }   \r\n    handleDeleteButton(id){//boton eliminar\r\n        alertify.confirm('Confirmacion', 'Esta seguro(a) de eliminar este item?', this.handleConfirmAction.bind(this,id), function(){});\r\n    }   \r\n    handleConfirmAction(id) {        \r\n        //CODIGO PARA ELIMINAR LA FILA        \r\n        eliminarFilas(this.props.parametro.apiField,id)\r\n        .then(response => {            \r\n            response = response.data;\r\n            if(response.msg === 'error'){\r\n                alertify.alert('Error!', 'Ha ocurrido un error accesando a la base de datos!<br />Codigo de Error: '+response.detail); \r\n            }\r\n            else if(response.msg === 'notExist'){\r\n                alertify.alert('Error!', 'El dato a eliminar no existe!'); \r\n            }\r\n            this.props.funcionClick('WelcomePage');\r\n            this.props.funcionClick(this.props.parametro.mainContainer);\r\n        })\r\n        .catch(function (error) {\r\n            alertify.alert('Error!', 'No se ha logrado la conexion con el servidor!<br />'+error);\r\n        });        \r\n    }  \r\n    handleDataSelect(dataParams){//al dar clic en el campo de texto\r\n        dataParams['funcionEdit'] = this.funcionEditDataSelect;      \r\n        this.setState({windowDataSelectId : \"windowFormDataSelect_\"+this.props.parametro.mainContainer+\"_\"+dataParams.idField }, () => {\r\n            globalState.dispatch({\r\n                type   : \"windowFormDataSelect_\"+this.props.parametro.mainContainer+\"_\"+dataParams.idField,\r\n                params : {\r\n                    visible : true,\r\n                    params  : dataParams\r\n                }\r\n            })\r\n        });        \r\n    }\r\n    funcionEditDataSelect(data,params){//la funcion que carga los datos del DataSelect        \r\n        this.setState({[params.idField] : data.id });\r\n        this.setState({[params.valueField] : data[params.fieldFetch]});\r\n        this.setState({windowDataSelectId : \"windowFormDataSelect_\"+this.props.parametro.mainContainer+\"_\"+params.idField }, () => {\r\n            globalState.dispatch({\r\n                type   : \"windowFormDataSelect_\"+this.props.parametro.mainContainer+\"_\"+params.idField,\r\n                params : {\r\n                    visible : false,                    \r\n                }\r\n            })\r\n        }); \r\n    }  \r\n  \trender() {\r\n    \tvar titulo = 'Agregar';\r\n        var id = 0;\r\n        var field = '';\r\n        var field1 = '';\r\n        var count = 1;        \r\n    \tif(this.props.parametro.idRow !== 0){\r\n    \t\t  titulo = 'Editar';\r\n           id = this.props.parametro.idRow.id;\r\n    \t}                             \t\t\t\r\n    \treturn (  //carga dinamica del formulario\r\n    \t \t<div className=\"container\">\r\n               <div className=\"content\">\r\n                   <div className=\"table-responsive mt-4\">\r\n                       <div className=\"titulo\">{titulo} {this.props.parametro.titulo}</div>\r\n                   </div>\r\n                   <hr />\r\n                   <div className=\"table-responsive mb-3\">\t\r\n    \t\t\t    \t<Form>                            \r\n                            {                                \r\n                                //cargar dinamicamente los campos, dependiendo si es input o select                                \r\n                                this.props.parametro.formFields.map((formFields,i) => {                                                                                                                                          \r\n                                    if(formFields.type === 'text' || formFields.type === 'date'){\r\n                                        field = <>{field}<Form.Group as={Col}  controlId={\"formField_\"+formFields.field}>\r\n                                                    <Form.Label>{formFields.label}</Form.Label>\r\n                                                    <Form.Control name = {formFields.field} type={formFields.type} onChange={this.handleStateChange.bind(this,formFields.validation,'')} value={this.state[formFields.field]}/>                               \r\n                                                </Form.Group></>\r\n                                    }\r\n                                    else if(formFields.type === 'textarea'){\r\n                                        if(count%2===0){\r\n                                            count+=3;\r\n                                            field1 = field;\r\n                                            field = '';                                                                                                                               \r\n                                        } \r\n                                        return <div key= {i}> \r\n                                                <Form.Row style={{width:'99%'}}>\r\n                                                    {field1}\r\n                                                </Form.Row>\r\n                                                <Form.Row style={{width:'99%'}}>\r\n                                                    <Form.Group as={Col} key= {i} controlId={\"formField_\"+formFields.field}>\r\n                                                        <Form.Label>{formFields.label}</Form.Label>                                                        \r\n                                                        <Form.Control name = {formFields.field} as=\"textarea\" rows={formFields.rows} onChange={this.handleStateChange.bind(this,formFields.validation,'')} value={this.state[formFields.field]}/>\r\n                                                    </Form.Group>\r\n                                                </Form.Row>\r\n                                               </div>\r\n                                    }  \r\n                                    else if(formFields.type === 'textarea-rich'){\r\n                                        if(count%2===0){\r\n                                            count+=3;\r\n                                            field1 = field;\r\n                                            field = '';                                                                                                                               \r\n                                        } \r\n                                        return <div key= {i}> \r\n                                                <Form.Row style={{width:'99%'}}>\r\n                                                    {field1}\r\n                                                </Form.Row>\r\n                                                <Form.Row style={{width:'99%'}}>\r\n                                                    <Form.Group as={Col} key= {i} controlId={\"formField_\"+formFields.field}>\r\n                                                        <Form.Label>{formFields.label}</Form.Label>\r\n                                                        <RichTextEditor\r\n                                                            name = {formFields.field}\r\n                                                            onChange={this.handleStateChange.bind(this,'textarea-rich',formFields.field)} \r\n                                                            value={this.state[formFields.field]} \r\n                                                            editorClassName=\"richTextEditor\"                                                           \r\n                                                        />                                                       \r\n                                                    </Form.Group>\r\n                                                </Form.Row>\r\n                                               </div>\r\n                                    }                                  \r\n                                    else if(formFields.type === 'select'){\r\n                                        field = <>{field}<Form.Group as={Col} controlId={\"formField_\"+formFields.field}>\r\n                                                    <Form.Label>{formFields.label}</Form.Label>\r\n                                                    <ComboBoxFormDataGrid \r\n                                                        valueName = {formFields.valueName} \r\n                                                        options = {formFields.options} \r\n                                                        apiField={formFields.apiField} \r\n                                                        dinamic={formFields.dinamic} \r\n                                                        name = {formFields.field} \r\n                                                        type={formFields.type}                                                         \r\n                                                        fieldUpdate={formFields.fieldUpdate}\r\n                                                        valueUpdate={this.state[formFields.fieldUpdate]}\r\n                                                        functionChange={this.handleStateChange.bind(this,formFields.validation,formFields.onChange)} \r\n                                                        value={this.state[formFields.field]} \r\n                                                        sqlParams={formFields.sqlParams}/>                               \r\n                                                </Form.Group></>\r\n                                    }\r\n                                    else if(formFields.type === 'data_select'){                                           \r\n                                        field = <>{field}<Form.Group as={Col} controlId={\"formField_\"+formFields.field}>\r\n                                                    <input type=\"hidden\" name = {formFields.field} value={this.state[formFields.field]} />\r\n                                                    <Form.Label>{formFields.label}</Form.Label>\r\n                                                    <Form.Control style={{backgroundColor:'#fff'}} name={formFields.dataParams.fetchData.valueField} type=\"text\" onClick={this.handleDataSelect.bind(this,formFields.dataParams)} value={this.state[formFields.dataParams.fetchData.valueField] || 'Seleccione...'} readOnly/>                                \r\n                                               </Form.Group></>\r\n                                    }\r\n                                    else if(formFields.type === 'campo_empresa'){\r\n                                        return <input key= {i} type=\"hidden\" name = {formFields.field} value={this.state[formFields.field]} />\r\n                                    }\r\n                                    else if(formFields.type === 'hidden'){\r\n                                        return <input key= {i} type=\"hidden\" name = {formFields.field} value={this.state[formFields.field]} />\r\n                                    }\r\n                                    //organizar las columnas en filas\r\n                                    if(count%2===0){\r\n                                        count++;\r\n                                        field1 = field;\r\n                                        field = '';                                       \r\n                                        return <Form.Row style={{width:'99%'}} key= {i}>\r\n                                                    {field1}\r\n                                                </Form.Row>;   \r\n\r\n                                    }                                    \r\n                                    else{\r\n                                        count++;                                                                                \r\n                                    } \r\n                                    return null;                                     \r\n                                })                                \r\n                            } \r\n                            {\r\n                                (count%2===0)?<Form.Row style={{width:'99%'}}>{field}</Form.Row>:''                                 \r\n                            }\r\n                            <Form.Row style={{width:'99%'}}>                        \r\n                            {\r\n                                this.props.parametro.enableBtnEdit === true || this.props.parametro.idRow === 0 ?\r\n                                    <Button id=\"formGridBtnSave\" className=\"float-left mr-3\" variant=\"primary\" onClick={this.handleSaveButton.bind(this,id)} style={{backgroundColor:configJson.fondoBotonGrilla}} onMouseOut={divMouseOut.bind(this,'formGridBtnSave',configJson.fondoBotonGrilla)} onMouseOver={divMouseOver.bind(this,'formGridBtnSave',configJson.fondoBotonGrilla)}>\r\n                                        GUARDAR\r\n                                    </Button> \r\n                                : ''\r\n                            }\r\n                            <Button variant=\"secondary\" className=\"float-left mr-3\" onClick={this.handleCancelButton.bind(this)}>\r\n                                CANCELAR\r\n                            </Button>\r\n                            {                                \r\n                                this.props.parametro.idRow !== 0 && this.props.parametro.enableBtnDel === true ?\r\n                                    <Button id=\"formGridBtnDelete\" className=\"float-left mr-3\" variant=\"danger\" onClick={this.handleDeleteButton.bind(this,id)} onMouseOut={divMouseOut.bind(this,\"formGridBtnDelete\",\"#dc3545\")} onMouseOver={divMouseOver.bind(this,\"formGridBtnDelete\",\"#dc3545\")}>\r\n                                        ELIMINAR\r\n                                    </Button>                                \r\n                                :  \"\"                                \r\n                            } \r\n                            </Form.Row>                           \r\n    \t\t\t\t    </Form>\r\n                        <Window   //ventana para el data select\r\n                            id = {this.state.windowDataSelectId}                    \r\n                            title='Seleccione ...'\r\n                            width='400px' \r\n                            height='300px'                     \r\n                            tbar=\"false\"\r\n                            componente=\"DataGridSelect\"\r\n                            params=\"\" \r\n                        /> \r\n    \t\t\t    </div> \r\n    \t\t    </div> \t  \t \t\t       \r\n    \t    </div> \t\r\n    \t);\r\n  \t}\r\n}\r\n\r\nexport default FormDataGrid"]},"metadata":{},"sourceType":"module"}