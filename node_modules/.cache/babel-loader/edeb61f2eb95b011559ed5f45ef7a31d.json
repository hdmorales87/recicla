{"ast":null,"code":"/**\r\n* ApiCalls\r\n*\r\n* Contiene todas las llamadas a la API\r\n*\r\n* @author Hector Morales <warrior1987@gmail.com>\r\n*/\nimport axios from 'axios';\nimport globalState from '../configuration/GlobalState';\nvar path = \"http://\" + window.location.hostname + \":5000/\";\nvar companyData = globalState.getState().companyData;\nvar id_empresa = 0;\n\nif (companyData !== undefined) {\n  id_empresa = globalState.getState().companyData[0].id;\n}\n\nexport function login(id_empresa, username, password) {\n  //consulta si el usuario existe con los datos ingresados\n  return axios.get(path + 'login/' + id_empresa + '/' + username + '/' + password, {\n    withCredentials: true\n  });\n}\nexport function validaEmpresa(id_empresa) {\n  //consulta si la empresa existe\n  return axios.get(path + 'validaEmpresa/' + id_empresa, {\n    withCredentials: true\n  });\n}\nexport function checkSession() {\n  //consulta si la sesion esta activa\n  return axios.get(path + 'checkSession', {\n    withCredentials: true\n  });\n}\nexport function logout() {\n  //cierra la sesion\n  return axios.get(path + 'logout', {\n    withCredentials: true\n  });\n}\nexport function loadComboBoxDataGrid(apiField) {\n  //carga el combobox dinamico \n  return axios.get(path + apiField, {\n    withCredentials: true\n  });\n}\nexport function consultarFilas(apiField, searchWord) {\n  //consulta el numero de filas de la grilla\n  return axios.get(path + apiField + 'Rows', {\n    withCredentials: true,\n    params: {\n      searchWord: searchWord\n    }\n  });\n}\nexport function cargarFilas(apiField, searchWord, showRecords, offsetRecord) {\n  //trae las filas filas de la grilla\n  return axios.get(path + apiField, {\n    withCredentials: true,\n    params: {\n      searchWord: searchWord,\n      showRecords: showRecords,\n      offsetRecord: offsetRecord,\n      id_empresa: id_empresa\n    }\n  });\n}\nexport function eliminarFilas(apiField, id) {\n  //elimina una fila de la grilla\n  return axios.delete(path + apiField, {\n    data: {\n      id: id\n    },\n    withCredentials: true\n  });\n}\nexport function insertarActualizarFila(method, apiField, arrayData) {\n  //inserta actualiza una fila en la grilla\n  return axios({\n    method: method,\n    url: path + apiField,\n    data: arrayData,\n    withCredentials: true\n  });\n}\nexport function cargarDatosReporte(table, fecha1, fecha2) {\n  //cargar los datos del reporte\n  return axios.get(path + table + 'Report', {\n    withCredentials: true,\n    params: {\n      fecha1: fecha1,\n      fecha2: fecha2\n    }\n  });\n}\nexport function sendEmailPassword(email) {\n  //envia correo para cambiar password\n  return axios({\n    method: 'post',\n    url: path + 'emailPassword',\n    data: {\n      'email': email\n    },\n    withCredentials: true\n  });\n}\nexport function checkToken(email, token) {\n  //chequea si el token del correo es el vigente\n  return axios({\n    method: 'post',\n    url: path + 'checkToken',\n    data: {\n      'email': email,\n      'token': token\n    },\n    withCredentials: true\n  });\n}\nexport function updatePassword(email, password) {\n  //actualiza el password\n  return axios({\n    method: 'post',\n    url: path + 'updatePassword',\n    data: {\n      'email': email,\n      'password': password\n    },\n    withCredentials: true\n  });\n}\nexport function uploaderFile(file, table, field, id, folder) {\n  var formData = new FormData();\n  formData.append(\"file\", file);\n  formData.append(\"table\", table);\n  formData.append(\"field\", field);\n  formData.append(\"id\", id);\n  formData.append(\"folder\", folder); //enviar el archivo\n\n  return axios.post(path + 'uploaderFile', formData, {\n    withCredentials: true,\n    headers: {\n      'content-type': 'multipart/form-data'\n    }\n  });\n}","map":{"version":3,"sources":["F:\\PROYECTOS\\recicla\\src\\components\\api_calls\\ApiCalls.js"],"names":["axios","globalState","path","window","location","hostname","companyData","getState","id_empresa","undefined","id","login","username","password","get","withCredentials","validaEmpresa","checkSession","logout","loadComboBoxDataGrid","apiField","consultarFilas","searchWord","params","cargarFilas","showRecords","offsetRecord","eliminarFilas","delete","data","insertarActualizarFila","method","arrayData","url","cargarDatosReporte","table","fecha1","fecha2","sendEmailPassword","email","checkToken","token","updatePassword","uploaderFile","file","field","folder","formData","FormData","append","post","headers"],"mappings":"AAAA;;;;;;;AAQA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,WAAP,MAAwB,8BAAxB;AAEA,IAAMC,IAAI,GAAG,YAAUC,MAAM,CAACC,QAAP,CAAgBC,QAA1B,GAAmC,QAAhD;AAEA,IAAIC,WAAW,GAAGL,WAAW,CAACM,QAAZ,GAAuBD,WAAzC;AACA,IAAIE,UAAU,GAAG,CAAjB;;AACA,IAAGF,WAAW,KAAKG,SAAnB,EAA6B;AAC5BD,EAAAA,UAAU,GAAGP,WAAW,CAACM,QAAZ,GAAuBD,WAAvB,CAAmC,CAAnC,EAAsCI,EAAnD;AACA;;AAED,OAAO,SAASC,KAAT,CAAeH,UAAf,EAA0BI,QAA1B,EAAmCC,QAAnC,EAA4C;AAClD;AACG,SAAOb,KAAK,CAACc,GAAN,CAAUZ,IAAI,GAAC,QAAL,GAAcM,UAAd,GAAyB,GAAzB,GAA6BI,QAA7B,GAAsC,GAAtC,GAA0CC,QAApD,EAA8D;AAACE,IAAAA,eAAe,EAAE;AAAlB,GAA9D,CAAP;AACH;AAED,OAAO,SAASC,aAAT,CAAuBR,UAAvB,EAAkC;AACxC;AACG,SAAOR,KAAK,CAACc,GAAN,CAAUZ,IAAI,GAAC,gBAAL,GAAsBM,UAAhC,EAA4C;AAACO,IAAAA,eAAe,EAAE;AAAlB,GAA5C,CAAP;AACH;AAED,OAAO,SAASE,YAAT,GAAuB;AAC7B;AACA,SAAOjB,KAAK,CAACc,GAAN,CAAUZ,IAAI,GAAC,cAAf,EAA+B;AAACa,IAAAA,eAAe,EAAE;AAAlB,GAA/B,CAAP;AACA;AAED,OAAO,SAASG,MAAT,GAAiB;AACvB;AACA,SAAOlB,KAAK,CAACc,GAAN,CAAUZ,IAAI,GAAC,QAAf,EAAyB;AAACa,IAAAA,eAAe,EAAE;AAAlB,GAAzB,CAAP;AACA;AAED,OAAO,SAASI,oBAAT,CAA8BC,QAA9B,EAAuC;AAC7C;AACA,SAAOpB,KAAK,CAACc,GAAN,CAAUZ,IAAI,GAACkB,QAAf,EAAyB;AAACL,IAAAA,eAAe,EAAE;AAAlB,GAAzB,CAAP;AACA;AAED,OAAO,SAASM,cAAT,CAAwBD,QAAxB,EAAiCE,UAAjC,EAA4C;AAClD;AACA,SAAOtB,KAAK,CAACc,GAAN,CAAUZ,IAAI,GAACkB,QAAL,GAAc,MAAxB,EAAgC;AAC9BL,IAAAA,eAAe,EAAE,IADa;AAE9BQ,IAAAA,MAAM,EAAE;AACJD,MAAAA,UAAU,EAAGA;AADT;AAFsB,GAAhC,CAAP;AAMA;AAED,OAAO,SAASE,WAAT,CAAqBJ,QAArB,EAA8BE,UAA9B,EAAyCG,WAAzC,EAAqDC,YAArD,EAAkE;AACxE;AACA,SAAO1B,KAAK,CAACc,GAAN,CAAUZ,IAAI,GAACkB,QAAf,EAAyB;AAC7BL,IAAAA,eAAe,EAAE,IADY;AAE7BQ,IAAAA,MAAM,EAAE;AACPD,MAAAA,UAAU,EAAKA,UADR;AAEPG,MAAAA,WAAW,EAAIA,WAFR;AAGPC,MAAAA,YAAY,EAAGA,YAHR;AAIPlB,MAAAA,UAAU,EAAKA;AAJR;AAFqB,GAAzB,CAAP;AASA;AAED,OAAO,SAASmB,aAAT,CAAuBP,QAAvB,EAAgCV,EAAhC,EAAmC;AACzC;AACA,SAAOV,KAAK,CAAC4B,MAAN,CAAa1B,IAAI,GAACkB,QAAlB,EAA2B;AACtBS,IAAAA,IAAI,EAAE;AAACnB,MAAAA,EAAE,EAAGA;AAAN,KADgB;AAEtBK,IAAAA,eAAe,EAAE;AAFK,GAA3B,CAAP;AAIA;AAED,OAAO,SAASe,sBAAT,CAAgCC,MAAhC,EAAuCX,QAAvC,EAAgDY,SAAhD,EAA0D;AAChE;AACA,SAAOhC,KAAK,CAAC;AACD+B,IAAAA,MAAM,EAAEA,MADP;AAEDE,IAAAA,GAAG,EAAE/B,IAAI,GAACkB,QAFT;AAGDS,IAAAA,IAAI,EAAEG,SAHL;AAIDjB,IAAAA,eAAe,EAAE;AAJhB,GAAD,CAAZ;AAMA;AAED,OAAO,SAASmB,kBAAT,CAA4BC,KAA5B,EAAkCC,MAAlC,EAAyCC,MAAzC,EAAgD;AACtD;AACA,SAAOrC,KAAK,CAACc,GAAN,CAAUZ,IAAI,GAACiC,KAAL,GAAW,QAArB,EAA+B;AAC1BpB,IAAAA,eAAe,EAAE,IADS;AAE1BQ,IAAAA,MAAM,EAAE;AACJa,MAAAA,MAAM,EAAGA,MADL;AAEJC,MAAAA,MAAM,EAAGA;AAFL;AAFkB,GAA/B,CAAP;AAOA;AAED,OAAO,SAASC,iBAAT,CAA2BC,KAA3B,EAAiC;AACvC;AACA,SAAOvC,KAAK,CAAC;AACD+B,IAAAA,MAAM,EAAE,MADP;AAEDE,IAAAA,GAAG,EAAE/B,IAAI,GAAC,eAFT;AAGD2B,IAAAA,IAAI,EAAE;AAAE,eAASU;AAAX,KAHL;AAIDxB,IAAAA,eAAe,EAAE;AAJhB,GAAD,CAAZ;AAMA;AAED,OAAO,SAASyB,UAAT,CAAoBD,KAApB,EAA0BE,KAA1B,EAAgC;AACtC;AACA,SAAOzC,KAAK,CAAC;AACD+B,IAAAA,MAAM,EAAE,MADP;AAEDE,IAAAA,GAAG,EAAE/B,IAAI,GAAC,YAFT;AAGD2B,IAAAA,IAAI,EAAE;AAAE,eAASU,KAAX;AAAiB,eAASE;AAA1B,KAHL;AAID1B,IAAAA,eAAe,EAAE;AAJhB,GAAD,CAAZ;AAMA;AAED,OAAO,SAAS2B,cAAT,CAAwBH,KAAxB,EAA8B1B,QAA9B,EAAuC;AAC7C;AACA,SAAOb,KAAK,CAAC;AACD+B,IAAAA,MAAM,EAAE,MADP;AAEDE,IAAAA,GAAG,EAAE/B,IAAI,GAAC,gBAFT;AAGD2B,IAAAA,IAAI,EAAE;AAAE,eAASU,KAAX;AAAiB,kBAAY1B;AAA7B,KAHL;AAIDE,IAAAA,eAAe,EAAE;AAJhB,GAAD,CAAZ;AAMA;AAED,OAAO,SAAS4B,YAAT,CAAsBC,IAAtB,EAA2BT,KAA3B,EAAiCU,KAAjC,EAAuCnC,EAAvC,EAA0CoC,MAA1C,EAAiD;AACvD,MAAIC,QAAQ,GAAG,IAAIC,QAAJ,EAAf;AACAD,EAAAA,QAAQ,CAACE,MAAT,CAAgB,MAAhB,EAAwBL,IAAxB;AACAG,EAAAA,QAAQ,CAACE,MAAT,CAAgB,OAAhB,EAAyBd,KAAzB;AACAY,EAAAA,QAAQ,CAACE,MAAT,CAAgB,OAAhB,EAAyBJ,KAAzB;AACAE,EAAAA,QAAQ,CAACE,MAAT,CAAgB,IAAhB,EAAsBvC,EAAtB;AACAqC,EAAAA,QAAQ,CAACE,MAAT,CAAgB,QAAhB,EAA0BH,MAA1B,EANuD,CAOvD;;AACA,SAAO9C,KAAK,CAACkD,IAAN,CAAWhD,IAAI,GAAC,cAAhB,EACJ6C,QADI,EAEJ;AACUhC,IAAAA,eAAe,EAAE,IAD3B;AAEUoC,IAAAA,OAAO,EAAE;AACR,sBAAgB;AADR;AAFnB,GAFI,CAAP;AASA","sourcesContent":["/**\r\n* ApiCalls\r\n*\r\n* Contiene todas las llamadas a la API\r\n*\r\n* @author Hector Morales <warrior1987@gmail.com>\r\n*/\r\n\r\nimport axios from 'axios';\r\nimport globalState from '../configuration/GlobalState';\r\n\r\nconst path = \"http://\"+window.location.hostname+\":5000/\";\r\n\r\nvar companyData = globalState.getState().companyData;\r\nvar id_empresa = 0;\r\nif(companyData !== undefined){\r\n\tid_empresa = globalState.getState().companyData[0].id;\r\n}\r\n\r\nexport function login(id_empresa,username,password){\r\n\t//consulta si el usuario existe con los datos ingresados\r\n    return axios.get(path+'login/'+id_empresa+'/'+username+'/'+password, {withCredentials: true});    \r\n}\t\r\n\r\nexport function validaEmpresa(id_empresa){\r\n\t//consulta si la empresa existe\r\n    return axios.get(path+'validaEmpresa/'+id_empresa, {withCredentials: true});\r\n}\r\n\r\nexport function checkSession(){\r\n\t//consulta si la sesion esta activa\r\n\treturn axios.get(path+'checkSession', {withCredentials: true});\r\n}\r\n\r\nexport function logout(){\r\n\t//cierra la sesion\r\n\treturn axios.get(path+'logout', {withCredentials: true});\r\n}\r\n\r\nexport function loadComboBoxDataGrid(apiField){\r\n\t//carga el combobox dinamico \r\n\treturn axios.get(path+apiField, {withCredentials: true});\r\n}\r\n\r\nexport function consultarFilas(apiField,searchWord){\r\n\t//consulta el numero de filas de la grilla\r\n\treturn axios.get(path+apiField+'Rows', {\r\n    \t\t    withCredentials: true, \r\n    \t\t    params: { \r\n    \t\t        searchWord : searchWord,                \r\n    \t\t    } \r\n    \t\t});\r\n}\r\n\r\nexport function cargarFilas(apiField,searchWord,showRecords,offsetRecord){\t\r\n\t//trae las filas filas de la grilla\r\n\treturn axios.get(path+apiField, {\r\n\t\t\t\twithCredentials: true, \r\n\t\t\t\tparams: { \r\n\t\t\t\t\tsearchWord   : searchWord,\r\n\t\t\t\t\tshowRecords  : showRecords,\r\n\t\t\t\t\toffsetRecord : offsetRecord,\r\n\t\t\t\t\tid_empresa   : id_empresa\t\t\t\t\t\r\n\t\t\t\t} \r\n\t\t\t});\r\n}\r\n\r\nexport function eliminarFilas(apiField,id){\r\n\t//elimina una fila de la grilla\r\n\treturn axios.delete(path+apiField,{            \r\n        \t    data: {id : id},\r\n        \t    withCredentials: true\r\n        \t});\r\n}\r\n\r\nexport function insertarActualizarFila(method,apiField,arrayData){\r\n\t//inserta actualiza una fila en la grilla\r\n\treturn axios({\r\n        \t    method: method,\r\n        \t    url: path+apiField,\r\n        \t    data: arrayData,\r\n        \t    withCredentials: true\r\n        \t});\t\r\n}\r\n\r\nexport function cargarDatosReporte(table,fecha1,fecha2){\r\n\t//cargar los datos del reporte\r\n\treturn axios.get(path+table+'Report', {\r\n\t            withCredentials: true, \r\n\t            params: { \r\n\t                fecha1 : fecha1,\r\n\t                fecha2 : fecha2            \r\n\t            } \r\n\t        });\r\n}\r\n\r\nexport function sendEmailPassword(email){\t\r\n\t//envia correo para cambiar password\r\n\treturn axios({\r\n        \t    method: 'post',\r\n        \t    url: path+'emailPassword',\r\n        \t    data: { 'email': email },\r\n        \t    withCredentials: true\r\n        \t});\t\r\n}\r\n\r\nexport function checkToken(email,token){\t\r\n\t//chequea si el token del correo es el vigente\r\n\treturn axios({\r\n        \t    method: 'post',\r\n        \t    url: path+'checkToken',\r\n        \t    data: { 'email': email,'token': token },\r\n        \t    withCredentials: true\r\n        \t});\t\r\n}\r\n\r\nexport function updatePassword(email,password){\t\r\n\t//actualiza el password\r\n\treturn axios({\r\n        \t    method: 'post',\r\n        \t    url: path+'updatePassword',\r\n        \t    data: { 'email': email,'password': password },\r\n        \t    withCredentials: true\r\n        \t});\t\r\n}\r\n\r\nexport function uploaderFile(file,table,field,id,folder){\t\r\n\tvar formData = new FormData();\r\n\tformData.append(\"file\", file);\r\n\tformData.append(\"table\", table);\r\n\tformData.append(\"field\", field);\r\n\tformData.append(\"id\", id);\r\n\tformData.append(\"folder\", folder);\r\n\t//enviar el archivo\r\n\treturn axios.post(path+'uploaderFile',\r\n\t\t\t\tformData,\r\n\t\t\t\t{\r\n\t            \twithCredentials: true,\t            \r\n\t           \t\theaders: {\r\n            \t\t\t'content-type': 'multipart/form-data'\r\n        \t\t\t} \r\n\t        \t}\r\n\t        );\r\n}"]},"metadata":{},"sourceType":"module"}