{"ast":null,"code":"import _classCallCheck from \"D:\\\\PROYECTOS\\\\chatarreria-front\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"D:\\\\PROYECTOS\\\\chatarreria-front\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"D:\\\\PROYECTOS\\\\chatarreria-front\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"D:\\\\PROYECTOS\\\\chatarreria-front\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"D:\\\\PROYECTOS\\\\chatarreria-front\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"D:\\\\PROYECTOS\\\\chatarreria-front\\\\src\\\\components\\\\reset_password\\\\ResetPasswordForm.js\";\n\n/**\r\n* CLASS ResetPasswordForm\r\n*\r\n* Contiene el componente para resetear el password despues de dar link al correo\r\n*\r\n* @author Hector Morales <warrior1987@gmail.com>\r\n*/\nimport React, { Component } from 'react';\nimport configJson from '../configuration/configuration.json';\nimport { checkToken } from '../api_calls/ApiCalls';\nimport logo_login1 from './../../images/logo_login1.png?v1.0';\n\nvar base64 = require('base-64');\n\nvar ResetPasswordForm =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(ResetPasswordForm, _Component);\n\n  function ResetPasswordForm(props) {\n    _classCallCheck(this, ResetPasswordForm);\n\n    return _possibleConstructorReturn(this, _getPrototypeOf(ResetPasswordForm).call(this, props));\n  }\n\n  _createClass(ResetPasswordForm, [{\n    key: \"render\",\n    value: function render() {\n      var token = this.props.match.params.token;\n      var date = base64.decode(token);\n      date = new Date(date);\n      date = date.getTime();\n      var user = base64.decode(this.props.match.params.user);\n      checkToken(user, token).then(function (response) {\n        response = response.data;\n\n        if (response.msg === 'error') {\n          return React.createElement(\"h1\", {\n            style: {\n              fontFamily: 'Roboto,sans-serif',\n              fontSize: '30px'\n            },\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 32\n            },\n            __self: this\n          }, \"Ha ocurrido un error accesando a la base de datos. \", React.createElement(\"br\", {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 32\n            },\n            __self: this\n          }), React.createElement(\"br\", {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 32\n            },\n            __self: this\n          }), \"Por favor realice de nuevo el proceso.\");\n        } else if (response.msg === 'false') {\n          console.log('nnoooo');\n          return React.createElement(\"h1\", {\n            style: {\n              fontFamily: 'Roboto,sans-serif',\n              fontSize: '30px'\n            },\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 36\n            },\n            __self: this\n          }, \"EL token no coincide con la base de datos, debe realizar de nuevo el proceso!.\");\n        } else {\n          var currentDate = new Date().getTime();\n          var dateDiff = currentDate - date;\n          var seconds = dateDiff / 1000;\n          return React.createElement(\"div\", {\n            style: {\n              background: '#efefef',\n              width: '100%',\n              height: '100%',\n              overflow: 'hidden'\n            },\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 43\n            },\n            __self: this\n          }, React.createElement(\"div\", {\n            className: \"adM\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 44\n            },\n            __self: this\n          }), React.createElement(\"div\", {\n            style: {\n              width: 'calc(100% - 40px)',\n              maxWidth: '600px',\n              height: '95px',\n              padding: '20px',\n              margin: '0 auto'\n            },\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 46\n            },\n            __self: this\n          }, React.createElement(\"div\", {\n            className: \"adM\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 47\n            },\n            __self: this\n          }), React.createElement(\"img\", {\n            src: logo_login1,\n            style: {\n              width: '250px'\n            },\n            className: \"CToWUd\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 49\n            },\n            __self: this\n          })), React.createElement(\"div\", {\n            style: {\n              width: 'calc(100% - 60px)',\n              maxWidth: '600px',\n              height: 'auto',\n              padding: '20px',\n              margin: '20px auto',\n              backgroundColor: '#fff',\n              borderRadius: '5px'\n            },\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 51\n            },\n            __self: this\n          }, seconds < 3600 ? React.createElement(\"div\", {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 54\n            },\n            __self: this\n          }, React.createElement(\"h1\", {\n            style: {\n              fontFamily: 'Roboto,sans-serif',\n              fontSize: '30px'\n            },\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 55\n            },\n            __self: this\n          }, \"Restablecer su password\"), React.createElement(\"hr\", {\n            style: {\n              margin: '0 0 20px 0'\n            },\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 56\n            },\n            __self: this\n          }), React.createElement(\"div\", {\n            style: {\n              fontFamily: 'Roboto,sans-serif',\n              fontSize: '14px',\n              color: '#666'\n            },\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 57\n            },\n            __self: this\n          }, \"Por favor escriba el nuevo password para su cuenta \", user, \".\", React.createElement(\"br\", {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 57\n            },\n            __self: this\n          }), React.createElement(\"br\", {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 57\n            },\n            __self: this\n          }), \"Recuerda que debe ser minimo de 8 caracteres, contener numeros y letras mayusculas y minusculas.\"), React.createElement(\"div\", {\n            style: {\n              marginTop: '40px'\n            },\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 58\n            },\n            __self: this\n          }, React.createElement(\"a\", {\n            href: \"\",\n            style: {\n              textDecoration: 'none',\n              fontFamily: 'Roboto,sans-serif',\n              backgroundColor: configJson.windowColor,\n              padding: '10px 20px',\n              color: '#fff',\n              fontSize: '16px',\n              borderRadius: '5px'\n            },\n            target: \"_blank\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 59\n            },\n            __self: this\n          }, \"Nuevo Password\"), React.createElement(\"div\", {\n            className: \"yj6qo\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 62\n            },\n            __self: this\n          }), React.createElement(\"div\", {\n            className: \"adL\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 63\n            },\n            __self: this\n          })), React.createElement(\"div\", {\n            className: \"adL\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 66\n            },\n            __self: this\n          })) : React.createElement(\"h1\", {\n            style: {\n              fontFamily: 'Roboto,sans-serif',\n              fontSize: '30px'\n            },\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 69\n            },\n            __self: this\n          }, \"La solicictud para restablecer el password caduco. \", React.createElement(\"br\", {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 69\n            },\n            __self: this\n          }), React.createElement(\"br\", {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 69\n            },\n            __self: this\n          }), \"Por favor realice de nuevo el proceso.\")), React.createElement(\"div\", {\n            className: \"adL\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 72\n            },\n            __self: this\n          }));\n        }\n      }).catch(function (error) {}); //date = date.getTime();\n    }\n  }]);\n\n  return ResetPasswordForm;\n}(Component);\n\nexport default ResetPasswordForm;","map":{"version":3,"sources":["D:\\PROYECTOS\\chatarreria-front\\src\\components\\reset_password\\ResetPasswordForm.js"],"names":["React","Component","configJson","checkToken","logo_login1","base64","require","ResetPasswordForm","props","token","match","params","date","decode","Date","getTime","user","then","response","data","msg","fontFamily","fontSize","console","log","currentDate","dateDiff","seconds","background","width","height","overflow","maxWidth","padding","margin","backgroundColor","borderRadius","color","marginTop","textDecoration","windowColor","catch","error"],"mappings":"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","sourcesContent":["/**\r\n* CLASS ResetPasswordForm\r\n*\r\n* Contiene el componente para resetear el password despues de dar link al correo\r\n*\r\n* @author Hector Morales <warrior1987@gmail.com>\r\n*/\r\n\r\nimport React, { Component } from 'react';\r\nimport configJson from '../configuration/configuration.json';\r\nimport {checkToken} from '../api_calls/ApiCalls';\r\nimport logo_login1 from './../../images/logo_login1.png?v1.0';\r\nvar base64     = require('base-64');\r\n\r\nclass ResetPasswordForm extends Component {\r\n\tconstructor(props){\r\n\t\tsuper(props);\r\n\t}\r\n\r\n\trender() {  \r\n\r\n\t\tvar token = this.props.match.params.token;\r\n\t\tvar date  = base64.decode(token);\r\n\t\tdate = new Date(date);\r\n\t\tdate = date.getTime();\r\n\t\t\r\n\t\tvar user = base64.decode(this.props.match.params.user);\r\n\r\n\t\tcheckToken(user,token).then(response => {             \r\n            response = response.data;\r\n            if(response.msg === 'error'){\r\n               return <h1 style={{fontFamily:'Roboto,sans-serif',fontSize:'30px'}}>Ha ocurrido un error accesando a la base de datos. <br /><br />Por favor realice de nuevo el proceso.</h1> \r\n            }\r\n            else if(response.msg === 'false'){\r\n            \tconsole.log('nnoooo');\r\n               return <h1 style={{fontFamily:'Roboto,sans-serif',fontSize:'30px'}}>EL token no coincide con la base de datos, debe realizar de nuevo el proceso!.</h1>\r\n            }\r\n            else{\r\n            \tvar currentDate = new Date().getTime();\r\n\t\t\t\tvar dateDiff    = currentDate-date;\r\n\t\t\t\tvar seconds     = dateDiff/1000;\r\n\t\t\t\t\t\r\n            \treturn (<div style={{background:'#efefef',width:'100%',height:'100%',overflow:'hidden'}}>\r\n\t\t                    <div className=\"adM\">\r\n\t\t                    </div>\r\n\t\t                    <div style={{width:'calc(100% - 40px)',maxWidth:'600px',height:'95px',padding:'20px',margin:'0 auto'}}>\r\n\t\t                        <div className=\"adM\">\r\n\t\t                        </div>\r\n\t\t                        <img src={logo_login1} style={{width:'250px'}} className=\"CToWUd\" />\r\n\t\t                    </div>\r\n\t\t                    <div style={{width:'calc(100% - 60px)',maxWidth:'600px',height:'auto',padding:'20px',margin:'20px auto',backgroundColor:'#fff',borderRadius:'5px'}}>\r\n\t\t                    {\r\n\t\t                   \t\t(seconds < 3600) ?\r\n\t\t\t\t                   \t<div>\r\n\t\t\t\t                   \t\t<h1 style={{fontFamily:'Roboto,sans-serif',fontSize:'30px'}}>Restablecer su password</h1>\r\n\t\t\t\t                        <hr style={{margin:'0 0 20px 0'}} />\r\n\t\t\t\t                        <div style={{fontFamily:'Roboto,sans-serif',fontSize:'14px',color:'#666'}}>Por favor escriba el nuevo password para su cuenta {user}.<br /><br />Recuerda que debe ser minimo de 8 caracteres, contener numeros y letras mayusculas y minusculas.</div>\r\n\t\t\t\t                        <div style={{marginTop:'40px'}}>\r\n\t\t\t\t                            <a href=\"\" style={{textDecoration:'none',fontFamily:'Roboto,sans-serif',backgroundColor:configJson.windowColor,padding:'10px 20px',color:'#fff',fontSize:'16px',borderRadius:'5px'}} target=\"_blank\">\r\n\t\t\t\t                               Nuevo Password\r\n\t\t\t\t                            </a>\r\n\t\t\t\t                            <div className=\"yj6qo\"></div>\r\n\t\t\t\t                            <div className=\"adL\">\r\n\t\t\t\t                            </div>\r\n\t\t\t\t                        </div>\r\n\t\t\t\t                        <div className=\"adL\">\r\n\t\t\t\t                        </div>\r\n\t\t\t\t                   \t</div>\r\n\t\t\t                   : <h1 style={{fontFamily:'Roboto,sans-serif',fontSize:'30px'}}>La solicictud para restablecer el password caduco. <br /><br />Por favor realice de nuevo el proceso.</h1>\r\n\t\t                    } \r\n\t\t                    </div>\r\n\t\t                    <div className=\"adL\">\r\n\t\t                    </div>\r\n\t\t                </div>)\r\n            }           \r\n        })\r\n        .catch(function (error) {\r\n            \r\n        }); \r\n\r\n\t\t//date = date.getTime();\r\n\r\n\t\t\t\r\n\t\t     \r\n  \t  \t\r\n  \t  \t\r\n    }\r\n}   \r\n\r\nexport default ResetPasswordForm              "]},"metadata":{},"sourceType":"module"}