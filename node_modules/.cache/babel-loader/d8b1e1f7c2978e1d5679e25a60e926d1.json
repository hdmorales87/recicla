{"ast":null,"code":"import _classCallCheck from \"F:\\\\PROYECTOS\\\\chatarreria-front\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"F:\\\\PROYECTOS\\\\chatarreria-front\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"F:\\\\PROYECTOS\\\\chatarreria-front\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"F:\\\\PROYECTOS\\\\chatarreria-front\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"F:\\\\PROYECTOS\\\\chatarreria-front\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";\nimport _assertThisInitialized from \"F:\\\\PROYECTOS\\\\chatarreria-front\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/assertThisInitialized\";\nvar _jsxFileName = \"F:\\\\PROYECTOS\\\\chatarreria-front\\\\src\\\\components\\\\desktop\\\\NameUser.js\";\n\n/**\r\n* CLASS NameUser\r\n*\r\n* Contiene el contenedor del nombre del usuario\r\n*\r\n* @author Hector Morales <warriorimport FormDataUser from './FormDataUser';1987@gmail.com>\r\n*/\nimport React, { Component } from 'react';\nimport MaterialIcon from 'material-icons-react';\nimport Dropdown from 'react-bootstrap/Dropdown';\nimport CustomToggle from './CustomToggleDropdown';\nimport FormDataUser from './FormDataUser';\nimport globalState from '../configuration/GlobalState';\nimport Window from '../window/Window';\nimport { logout } from '../api_calls/ApiCalls';\nimport alertify from 'alertifyjs';\nimport './desktop.css';\nimport '../../css/alertify.css';\n\nvar NameUser =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(NameUser, _Component);\n\n  function NameUser(props) {\n    var _this;\n\n    _classCallCheck(this, NameUser);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(NameUser).call(this, props));\n    _this._isMounted = false;\n    _this.state = {\n      showModal: false,\n      userName: ''\n    };\n    _this.btnLogoutSession = _this.btnLogoutSession.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    globalState.dispatch({\n      type: \"userData\",\n      params: _this.props.location.state.usuario\n    }); // if(this._isMounted = true)\n    // globalState.subscribe( ()=>{           \n    //     if(typeof globalState.getState().userData!==\"undefined\" && globalState.getState().type===\"userData\"){\n    // //this._isMounted = true; \n    //         //alert(\"hola\");\n    //         console.log(globalState.getState().userData[0].id);\n    //         //idUsuario = globalState.getState().userData[0].id;\n    //         console.log(this._isMounted);\n    //         //if(this._isMounted){\n    //             alert('hello');\n    //             //setTimeout(function(){\n    //               console.log(this);\n    //                 this.setState({ userName: globalState.getState().userData[0].id}); \n    //             //},2000);\n    //        // }               \n    //     }\n    // });\n\n    return _this;\n  }\n\n  _createClass(NameUser, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var _this2 = this;\n\n      this._isMounted = true;\n\n      if (this._isMounted) {\n        //console.log(this._isMounted);\n        globalState.subscribe(function () {\n          if (globalState.getState().type === \"userData\") {\n            console.log(_this2._isMounted); //alert(\"hola\");\n\n            console.log(globalState.getState().userData[0].id); //idUsuario = globalState.getState().userData[0].id;\n            //console.log(this._isMounted);\n\n            alert('hello');\n\n            _this2.setState({\n              userName: 'hello'\n            });\n          }\n        });\n      }\n    }\n  }, {\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      this._isMounted = false;\n    } // \n    //evento cerrar sesion\n\n  }, {\n    key: \"btnLogoutSession\",\n    value: function btnLogoutSession() {\n      //boton de cerrar sesion\n      alertify.confirm('Confirmacion', 'Desea cerrar la sesion?', this.logoutSession.bind(this), function () {});\n    } //abrir la modalcomponentWillUnmount(){\n    //     globalState.subscribe( ()=>{           \n    //         if(globalState.getState().type===\"userData\"){\n    //     //this._isMounted = true; \n    //             //alert(\"hola\");\n    //             console.log(globalState.getState().userData[0].id);\n    //             //idUsuario = globalState.getState().userData[0].id;\n    //             console.log(this._isMounted);\n    //             //if(this._isMounted){\n    //                 alert('hello');\n    //                 //this.setState({ userName: 'hello' }); \n    //            // }               \n    //         }\n    //     });        \n    // }\n\n  }, {\n    key: \"handleOpenModal\",\n    value: function handleOpenModal() {\n      //boton de abrir modal        \n      globalState.dispatch({\n        type: \"windowOpen\",\n        params: true\n      });\n    } //metodo cerrar sesion\n\n  }, {\n    key: \"logoutSession\",\n    value: function logoutSession() {\n      var _this3 = this;\n\n      //llamar a cerrar sesion en la API\n      logout().then(function (res) {\n        var response = res.data;\n\n        if (response.msg === \"error\") {\n          alertify.alert('Error!', 'No se ha logrado la conexion con el servidor!<br />' + response.detail);\n        } else if (response.msg === \"success\") {\n          _this3.props.history.push('/'); //me devuelve al login       \t  \t  \t  \t\n\n        }\n      }).catch(function (err) {\n        alertify.alert('Error!', 'No se ha logrado la conexion con el servidor!<br />' + err);\n      });\n    }\n  }, {\n    key: \"functionUpdateUser\",\n    value: function functionUpdateUser() {\n      alert('hola');\n    }\n  }, {\n    key: \"functionChangePassword\",\n    value: function functionChangePassword() {\n      alert('jejeje');\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      return (//carga el menu de opciones del usuario  \t  \t\t\n        React.createElement(Dropdown, {\n          id: \"ContentUser\",\n          className: \"ContentUser\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 130\n          },\n          __self: this\n        }, React.createElement(Dropdown.Toggle, {\n          as: CustomToggle,\n          id: \"dropdown-custom-components\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 131\n          },\n          __self: this\n        }, React.createElement(\"div\", {\n          className: \"NombreUsuario\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 132\n          },\n          __self: this\n        }), React.createElement(\"div\", {\n          className: \"OptionUsuario\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 133\n          },\n          __self: this\n        }, React.createElement(MaterialIcon, {\n          size: 30,\n          icon: \"keyboard_arrow_down\",\n          invert: true,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 134\n          },\n          __self: this\n        }))), React.createElement(Dropdown.Menu, {\n          style: {\n            marginTop: '50px'\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 137\n          },\n          __self: this\n        }, React.createElement(Dropdown.Item, {\n          eventKey: \"1\",\n          onClick: this.handleOpenModal.bind(this),\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 138\n          },\n          __self: this\n        }, React.createElement(\"div\", {\n          style: {\n            height: '25px'\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 139\n          },\n          __self: this\n        }, React.createElement(\"div\", {\n          style: {\n            width: '30px',\n            float: 'left'\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 140\n          },\n          __self: this\n        }, React.createElement(MaterialIcon, {\n          size: 24,\n          icon: \"account_circle\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 141\n          },\n          __self: this\n        })), React.createElement(\"div\", {\n          style: {\n            height: '25px',\n            float: 'left',\n            verticalAlign: 'middle',\n            paddingTop: '5px'\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 143\n          },\n          __self: this\n        }, \"Datos del Usuario\"))), React.createElement(Dropdown.Item, {\n          eventKey: \"1\",\n          onClick: this.btnLogoutSession.bind(this),\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 148\n          },\n          __self: this\n        }, React.createElement(\"div\", {\n          style: {\n            height: '25px'\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 149\n          },\n          __self: this\n        }, React.createElement(\"div\", {\n          style: {\n            width: '30px',\n            float: 'left'\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 150\n          },\n          __self: this\n        }, React.createElement(MaterialIcon, {\n          size: 24,\n          icon: \"close\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 151\n          },\n          __self: this\n        })), React.createElement(\"div\", {\n          style: {\n            height: '25px',\n            float: 'left',\n            verticalAlign: 'middle',\n            paddingTop: '5px'\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 153\n          },\n          __self: this\n        }, \"Cerrar Sesi\\xF3n\")))), React.createElement(Window, {\n          title: \"Datos del Usuario\",\n          width: \"315px\",\n          params: {\n            'username': this.props.username\n          },\n          tbar: [{\n            type: 'boton',\n            icon: 'save',\n            width: '100px',\n            height: '60px',\n            title: 'Actualizar Datos',\n            function: this.functionUpdateUser.bind(this, this.props.username)\n          }, {\n            type: 'boton',\n            icon: 'settings',\n            width: '100px',\n            height: '60px',\n            title: 'Cambiar Password',\n            function: this.functionChangePassword.bind(this)\n          }],\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 159\n          },\n          __self: this\n        }))\n      );\n    }\n  }]);\n\n  return NameUser;\n}(Component);\n\nexport default NameUser;","map":{"version":3,"sources":["F:\\PROYECTOS\\chatarreria-front\\src\\components\\desktop\\NameUser.js"],"names":["React","Component","MaterialIcon","Dropdown","CustomToggle","FormDataUser","globalState","Window","logout","alertify","NameUser","props","_isMounted","state","showModal","userName","btnLogoutSession","bind","dispatch","type","params","location","usuario","subscribe","getState","console","log","userData","id","alert","setState","confirm","logoutSession","then","res","response","data","msg","detail","history","push","catch","err","marginTop","handleOpenModal","height","width","float","verticalAlign","paddingTop","username","icon","title","function","functionUpdateUser","functionChangePassword"],"mappings":";;;;;;;;AAAA;;;;;;;AAQA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,OAAOC,YAAP,MAAyB,sBAAzB;AACA,OAAOC,QAAP,MAAqB,0BAArB;AACA,OAAOC,YAAP,MAAyB,wBAAzB;AACA,OAAOC,YAAP,MAAyB,gBAAzB;AACA,OAAOC,WAAP,MAAwB,8BAAxB;AACA,OAAOC,MAAP,MAAmB,kBAAnB;AACA,SAAQC,MAAR,QAAqB,uBAArB;AACA,OAAOC,QAAP,MAAqB,YAArB;AACA,OAAO,eAAP;AACA,OAAO,wBAAP;;IAEMC,Q;;;;;AAEH,oBAAYC,KAAZ,EAAmB;AAAA;;AAAA;;AACd,kFAAMA,KAAN;AADc,UADlBC,UACkB,GADL,KACK;AAEd,UAAKC,KAAL,GAAa;AACTC,MAAAA,SAAS,EAAE,KADF;AAETC,MAAAA,QAAQ,EAAG;AAFF,KAAb;AAIA,UAAKC,gBAAL,GAAwB,MAAKA,gBAAL,CAAsBC,IAAtB,uDAAxB;AAECX,IAAAA,WAAW,CAACY,QAAZ,CAAqB;AACVC,MAAAA,IAAI,EAAK,UADC;AAEVC,MAAAA,MAAM,EAAG,MAAKT,KAAL,CAAWU,QAAX,CAAoBR,KAApB,CAA0BS;AAFzB,KAArB,EARa,CAad;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;;AA/Bc;AAgCjB;;;;wCACkB;AAAA;;AACf,WAAKV,UAAL,GAAkB,IAAlB;;AACA,UAAG,KAAKA,UAAR,EAAmB;AACf;AACAN,QAAAA,WAAW,CAACiB,SAAZ,CAAuB,YAAI;AACvB,cAAGjB,WAAW,CAACkB,QAAZ,GAAuBL,IAAvB,KAA8B,UAAjC,EAA4C;AAEhDM,YAAAA,OAAO,CAACC,GAAR,CAAY,MAAI,CAACd,UAAjB,EAFgD,CAIxC;;AACAa,YAAAA,OAAO,CAACC,GAAR,CAAYpB,WAAW,CAACkB,QAAZ,GAAuBG,QAAvB,CAAgC,CAAhC,EAAmCC,EAA/C,EALwC,CAMxC;AACA;;AAEIC,YAAAA,KAAK,CAAC,OAAD,CAAL;;AACA,YAAA,MAAI,CAACC,QAAL,CAAc;AAAEf,cAAAA,QAAQ,EAAE;AAAZ,aAAd;AAEP;AACJ,SAdD;AAeH;AACJ;;;2CACqB;AAClB,WAAKH,UAAL,GAAkB,KAAlB;AACH,K,CACD;AACA;;;;uCACiB;AAAC;AAChBH,MAAAA,QAAQ,CAACsB,OAAT,CAAiB,cAAjB,EAAiC,yBAAjC,EAA4D,KAAKC,aAAL,CAAmBf,IAAnB,CAAwB,IAAxB,CAA5D,EAA2F,YAAU,CAAE,CAAvG;AACF,K,CACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;sCACiB;AAAC;AACdX,MAAAA,WAAW,CAACY,QAAZ,CAAqB;AACbC,QAAAA,IAAI,EAAK,YADI;AAEbC,QAAAA,MAAM,EAAG;AAFI,OAArB;AAIH,K,CACD;;;;oCACc;AAAA;;AAAC;AACZZ,MAAAA,MAAM,GACJyB,IADF,CACO,UAAAC,GAAG,EAAI;AACT,YAAIC,QAAQ,GAAGD,GAAG,CAACE,IAAnB;;AACD,YAAID,QAAQ,CAACE,GAAT,KAAiB,OAArB,EAA8B;AAC7B5B,UAAAA,QAAQ,CAACoB,KAAT,CAAe,QAAf,EAAyB,wDAAsDM,QAAQ,CAACG,MAAxF;AACA,SAFD,MAEO,IAAIH,QAAQ,CAACE,GAAT,KAAiB,SAArB,EAA+B;AACnC,UAAA,MAAI,CAAC1B,KAAL,CAAW4B,OAAX,CAAmBC,IAAnB,CAAwB,GAAxB,EADmC,CACN;;AAC/B;AACH,OARF,EASEC,KATF,CASQ,UAAAC,GAAG,EAAI;AACXjC,QAAAA,QAAQ,CAACoB,KAAT,CAAe,QAAf,EAAyB,wDAAsDa,GAA/E;AACF,OAXF;AAYH;;;yCACoB;AAChBb,MAAAA,KAAK,CAAC,MAAD,CAAL;AACH;;;6CACuB;AACpBA,MAAAA,KAAK,CAAC,QAAD,CAAL;AACH;;;6BACQ;AACL,aAAQ;AACL,4BAAC,QAAD;AAAW,UAAA,EAAE,EAAC,aAAd;AAA4B,UAAA,SAAS,EAAC,aAAtC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WACG,oBAAC,QAAD,CAAU,MAAV;AAAiB,UAAA,EAAE,EAAEzB,YAArB;AAAmC,UAAA,EAAE,EAAC,4BAAtC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WACG;AAAK,UAAA,SAAS,EAAC,eAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UADH,EAEG;AAAK,UAAA,SAAS,EAAC,eAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WACC,oBAAC,YAAD;AAAc,UAAA,IAAI,EAAE,EAApB;AAAwB,UAAA,IAAI,EAAC,qBAA7B;AAAmD,UAAA,MAAM,MAAzD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UADD,CAFH,CADH,EAOG,oBAAC,QAAD,CAAU,IAAV;AAAgB,UAAA,KAAK,EAAE;AAAEuC,YAAAA,SAAS,EAAE;AAAb,WAAvB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WACG,oBAAC,QAAD,CAAU,IAAV;AAAe,UAAA,QAAQ,EAAC,GAAxB;AAA4B,UAAA,OAAO,EAAE,KAAKC,eAAL,CAAqB3B,IAArB,CAA0B,IAA1B,CAArC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WACS;AAAK,UAAA,KAAK,EAAE;AAAC4B,YAAAA,MAAM,EAAC;AAAR,WAAZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WACI;AAAK,UAAA,KAAK,EAAE;AAACC,YAAAA,KAAK,EAAC,MAAP;AAAcC,YAAAA,KAAK,EAAC;AAApB,WAAZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WACI,oBAAC,YAAD;AAAc,UAAA,IAAI,EAAE,EAApB;AAAwB,UAAA,IAAI,EAAC,gBAA7B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UADJ,CADJ,EAII;AAAK,UAAA,KAAK,EAAE;AAACF,YAAAA,MAAM,EAAC,MAAR;AAAeE,YAAAA,KAAK,EAAC,MAArB;AAA4BC,YAAAA,aAAa,EAAC,QAA1C;AAAmDC,YAAAA,UAAU,EAAC;AAA9D,WAAZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,+BAJJ,CADT,CADH,EAWG,oBAAC,QAAD,CAAU,IAAV;AAAe,UAAA,QAAQ,EAAC,GAAxB;AAA4B,UAAA,OAAO,EAAE,KAAKjC,gBAAL,CAAsBC,IAAtB,CAA2B,IAA3B,CAArC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WACS;AAAK,UAAA,KAAK,EAAE;AAAC4B,YAAAA,MAAM,EAAC;AAAR,WAAZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WACI;AAAK,UAAA,KAAK,EAAE;AAACC,YAAAA,KAAK,EAAC,MAAP;AAAcC,YAAAA,KAAK,EAAC;AAApB,WAAZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WACI,oBAAC,YAAD;AAAc,UAAA,IAAI,EAAE,EAApB;AAAwB,UAAA,IAAI,EAAC,OAA7B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UADJ,CADJ,EAII;AAAK,UAAA,KAAK,EAAE;AAACF,YAAAA,MAAM,EAAC,MAAR;AAAeE,YAAAA,KAAK,EAAC,MAArB;AAA4BC,YAAAA,aAAa,EAAC,QAA1C;AAAmDC,YAAAA,UAAU,EAAC;AAA9D,WAAZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,8BAJJ,CADT,CAXH,CAPH,EA6BO,oBAAC,MAAD;AACI,UAAA,KAAK,EAAC,mBADV;AAEI,UAAA,KAAK,EAAC,OAFV;AAGI,UAAA,MAAM,EAAE;AAAE,wBAAa,KAAKtC,KAAL,CAAWuC;AAA1B,WAHZ;AAII,UAAA,IAAI,EAAE,CACE;AACI/B,YAAAA,IAAI,EAAG,OADX;AAEIgC,YAAAA,IAAI,EAAG,MAFX;AAGIL,YAAAA,KAAK,EAAG,OAHZ;AAIID,YAAAA,MAAM,EAAG,MAJb;AAKIO,YAAAA,KAAK,EAAG,kBALZ;AAMIC,YAAAA,QAAQ,EAAG,KAAKC,kBAAL,CAAwBrC,IAAxB,CAA6B,IAA7B,EAAkC,KAAKN,KAAL,CAAWuC,QAA7C;AANf,WADF,EASE;AACI/B,YAAAA,IAAI,EAAG,OADX;AAEIgC,YAAAA,IAAI,EAAG,UAFX;AAGIL,YAAAA,KAAK,EAAG,OAHZ;AAIID,YAAAA,MAAM,EAAG,MAJb;AAKIO,YAAAA,KAAK,EAAG,kBALZ;AAMIC,YAAAA,QAAQ,EAAG,KAAKE,sBAAL,CAA4BtC,IAA5B,CAAiC,IAAjC;AANf,WATF,CAJV;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UA7BP;AADH;AAuDH;;;;EAnKkBhB,S;;AAsKvB,eAAeS,QAAf","sourcesContent":["/**\r\n* CLASS NameUser\r\n*\r\n* Contiene el contenedor del nombre del usuario\r\n*\r\n* @author Hector Morales <warriorimport FormDataUser from './FormDataUser';1987@gmail.com>\r\n*/\r\n\r\nimport React, { Component } from 'react';\r\nimport MaterialIcon from 'material-icons-react';\r\nimport Dropdown from 'react-bootstrap/Dropdown';\r\nimport CustomToggle from './CustomToggleDropdown';\r\nimport FormDataUser from './FormDataUser';\r\nimport globalState from '../configuration/GlobalState';\r\nimport Window from '../window/Window';\r\nimport {logout} from '../api_calls/ApiCalls';\r\nimport alertify from 'alertifyjs';\r\nimport './desktop.css';\r\nimport '../../css/alertify.css';\r\n\r\nclass NameUser extends Component {\r\n    _isMounted = false;\r\n\t  constructor(props) {\r\n        super(props); \r\n        this.state = {\r\n            showModal: false,\r\n            userName : ''\r\n        };\r\n        this.btnLogoutSession = this.btnLogoutSession.bind(this);\r\n\r\n         globalState.dispatch({\r\n                    type   : \"userData\",\r\n                    params : this.props.location.state.usuario\r\n                });          \r\n\r\n        // if(this._isMounted = true)\r\n        // globalState.subscribe( ()=>{           \r\n        //     if(typeof globalState.getState().userData!==\"undefined\" && globalState.getState().type===\"userData\"){\r\n        // //this._isMounted = true; \r\n                \r\n        //         //alert(\"hola\");\r\n        //         console.log(globalState.getState().userData[0].id);\r\n        //         //idUsuario = globalState.getState().userData[0].id;\r\n        //         console.log(this._isMounted);\r\n        //         //if(this._isMounted){\r\n        //             alert('hello');\r\n        //             //setTimeout(function(){\r\n        //               console.log(this);\r\n        //                 this.setState({ userName: globalState.getState().userData[0].id}); \r\n        //             //},2000);\r\n                    \r\n        //        // }               \r\n        //     }\r\n        // });\r\n    }\r\n    componentDidMount(){\r\n        this._isMounted = true; \r\n        if(this._isMounted){\r\n            //console.log(this._isMounted);\r\n            globalState.subscribe( ()=>{           \r\n                if(globalState.getState().type===\"userData\"){\r\n            \r\n            console.log(this._isMounted);\r\n                    \r\n                    //alert(\"hola\");\r\n                    console.log(globalState.getState().userData[0].id);\r\n                    //idUsuario = globalState.getState().userData[0].id;\r\n                    //console.log(this._isMounted);\r\n                    \r\n                        alert('hello');\r\n                        this.setState({ userName: 'hello' }); \r\n                                   \r\n                }\r\n            }); \r\n        }\r\n    }\r\n    componentWillUnmount(){\r\n        this._isMounted = false; \r\n    }\r\n    // \r\n    //evento cerrar sesion\r\n\t  btnLogoutSession(){//boton de cerrar sesion\r\n\t  \t  alertify.confirm('Confirmacion', 'Desea cerrar la sesion?', this.logoutSession.bind(this), function(){});\r\n\t  } \r\n    //abrir la modalcomponentWillUnmount(){\r\n    //     globalState.subscribe( ()=>{           \r\n    //         if(globalState.getState().type===\"userData\"){\r\n    //     //this._isMounted = true; \r\n                \r\n    //             //alert(\"hola\");\r\n    //             console.log(globalState.getState().userData[0].id);\r\n    //             //idUsuario = globalState.getState().userData[0].id;\r\n    //             console.log(this._isMounted);\r\n    //             //if(this._isMounted){\r\n    //                 alert('hello');\r\n    //                 //this.setState({ userName: 'hello' }); \r\n    //            // }               \r\n    //         }\r\n    //     });        \r\n    // }\r\n    handleOpenModal(){//boton de abrir modal        \r\n        globalState.dispatch({\r\n                type   : \"windowOpen\",\r\n                params : true\r\n            });\r\n    }          \r\n    //metodo cerrar sesion\r\n\t  logoutSession(){//llamar a cerrar sesion en la API\r\n\t \t    logout()\r\n        .then(res => {\r\n            var response = res.data; \r\n          \tif (response.msg === \"error\") {      \t  \t  \t  \t\r\n          \t\talertify.alert('Error!', 'No se ha logrado la conexion con el servidor!<br />'+response.detail);  \t  \t  \t  \t\r\n          \t} else if (response.msg === \"success\"){\r\n          \t  \tthis.props.history.push('/');//me devuelve al login       \t  \t  \t  \t\r\n          \t}\r\n        })\r\n        .catch(err => {\r\n          \talertify.alert('Error!', 'No se ha logrado la conexion con el servidor!<br />'+err);      \t  \t  \r\n        });\r\n\t  }   \r\n    functionUpdateUser(){\r\n        alert('hola');\r\n    } \r\n    functionChangePassword(){\r\n        alert('jejeje');\r\n    } \r\n    render() {\r\n    \t  \treturn (//carga el menu de opciones del usuario  \t  \t\t\r\n        \t\t\t<Dropdown  id=\"ContentUser\" className=\"ContentUser\">\t\r\n        \t\t\t\t  <Dropdown.Toggle as={CustomToggle} id=\"dropdown-custom-components\">  \t  \t\t\t\t\t \t\t  \r\n      \t\t\t\t    \t  <div className=\"NombreUsuario\"></div>\t\r\n      \t\t\t\t    \t  <div className=\"OptionUsuario\">\r\n      \t\t\t\t    \t  \t<MaterialIcon size={30} icon=\"keyboard_arrow_down\" invert />\r\n      \t\t\t\t    \t  </div>\t\t\t\t\t\r\n      \t\t\t\t    </Dropdown.Toggle>\r\n      \t\t\t\t    <Dropdown.Menu  style={{ marginTop: '50px'}}>\r\n      \t\t\t\t      \t<Dropdown.Item eventKey=\"1\" onClick={this.handleOpenModal.bind(this)}>\r\n                          <div style={{height:'25px'}}>\r\n                              <div style={{width:'30px',float:'left'}}>\r\n                                  <MaterialIcon size={24} icon=\"account_circle\" />\r\n                              </div>\r\n                              <div style={{height:'25px',float:'left',verticalAlign:'middle',paddingTop:'5px'}}>\r\n                                  Datos del Usuario\r\n                              </div>\r\n                          </div>\r\n                      </Dropdown.Item>\r\n      \t\t\t\t      \t<Dropdown.Item eventKey=\"1\" onClick={this.btnLogoutSession.bind(this)}>\r\n                          <div style={{height:'25px'}}>\r\n                              <div style={{width:'30px',float:'left'}}>\r\n                                  <MaterialIcon size={24} icon=\"close\" />\r\n                              </div>\r\n                              <div style={{height:'25px',float:'left',verticalAlign:'middle',paddingTop:'5px'}}>\r\n                                  Cerrar Sesi&oacute;n\r\n                               </div>\r\n                          </div>\r\n                      </Dropdown.Item>\t\t\t\t  \t\r\n      \t\t\t\t    </Dropdown.Menu>   \r\n                  <Window                       \r\n                      title='Datos del Usuario'\r\n                      width='315px'\r\n                      params={{ 'username' : this.props.username }}\r\n                      tbar={[\r\n                              {\r\n                                  type : 'boton',\r\n                                  icon : 'save',\r\n                                  width : '100px',\r\n                                  height : '60px',\r\n                                  title : 'Actualizar Datos',\r\n                                  function : this.functionUpdateUser.bind(this,this.props.username)\r\n                              },\r\n                              {\r\n                                  type : 'boton',\r\n                                  icon : 'settings',\r\n                                  width : '100px',\r\n                                  height : '60px',\r\n                                  title : 'Cambiar Password',\r\n                                  function : this.functionChangePassword.bind(this)\r\n                              }    \r\n                           ]}\r\n                  />                 \r\n      \t\t\t  </Dropdown>\t              \t    \t\t\r\n\t     );\r\n    }\r\n}\r\n\r\nexport default NameUser"]},"metadata":{},"sourceType":"module"}