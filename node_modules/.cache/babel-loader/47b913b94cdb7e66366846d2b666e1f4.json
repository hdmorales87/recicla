{"ast":null,"code":"import _classCallCheck from \"C:\\\\PROYECTOS\\\\chatarreria-front\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"C:\\\\PROYECTOS\\\\chatarreria-front\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"C:\\\\PROYECTOS\\\\chatarreria-front\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"C:\\\\PROYECTOS\\\\chatarreria-front\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"C:\\\\PROYECTOS\\\\chatarreria-front\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"C:\\\\PROYECTOS\\\\chatarreria-front\\\\src\\\\components\\\\reports\\\\ReportContainer.js\";\nimport React, { Component } from 'react';\nimport DataReportContainer from './DataReportContainer';\nimport MaterialIcon from 'material-icons-react';\nimport DatePicker from 'react-date-picker';\nimport axios from 'axios';\nimport alertify from 'alertifyjs';\nimport '../../css/alertify.css';\nimport './reports.css';\n\nvar ReportContainer =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(ReportContainer, _Component);\n\n  function ReportContainer(props, context) {\n    var _this;\n\n    _classCallCheck(this, ReportContainer);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(ReportContainer).call(this, props, context));\n    _this.state = {\n      date1: new Date(),\n      date2: new Date(),\n      dataObject: ''\n    };\n    return _this;\n  } //manejadores de los datepicker\n\n\n  _createClass(ReportContainer, [{\n    key: \"changeDate1\",\n    value: function changeDate1(val) {\n      this.setState({\n        date1: val\n      });\n    }\n  }, {\n    key: \"changeDate2\",\n    value: function changeDate2(val) {\n      this.setState({\n        date2: val\n      });\n    }\n  }, {\n    key: \"generaReport\",\n    value: function generaReport(val) {\n      var _this2 = this;\n\n      var fecha1 = this.state.date1;\n      var fecha2 = this.state.date2;\n\n      if (fecha1 === null) {\n        alertify.error(\"Favor ingrese fecha inicial!\");\n        return;\n      }\n\n      if (fecha2 === null) {\n        alertify.error(\"Favor ingrese fecha final!\");\n        return;\n      }\n\n      fecha1 = new Date(fecha1.getTime() - fecha1.getTimezoneOffset() * 60000).toISOString().split(\"T\")[0];\n      fecha2 = new Date(fecha2.getTime() - fecha2.getTimezoneOffset() * 60000).toISOString().split(\"T\")[0]; //generacion del reporte     \n\n      axios.get(this.props.apiUrl + this.props.optionMenu.table + 'Report', {\n        withCredentials: true,\n        params: {}\n      }).then(function (res) {\n        var response = res.data;\n\n        if (response.msg === \"error\") {\n          alertify.alert('Error!', 'Ha ocurrido un error accesando a la base de datos!<br />Codigo de Error: ' + response.detail);\n        } else {\n          _this2.setState({\n            dataObject: response[0].total\n          });\n        }\n      }).catch(function (err) {\n        alertify.alert('Error!', 'No se ha logrado la conexion con el servidor!<br />' + err);\n      }); //this\n\n      console.log(fecha1 + '-->' + fecha2);\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      //console.log(this.props.optionMenu);\n      return React.createElement(\"div\", {\n        id: \"BodyReportContainer\",\n        style: {\n          height: '100%'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 71\n        },\n        __self: this\n      }, this.props.optionMenu.label ? React.createElement(\"div\", {\n        style: {\n          height: '100%'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 74\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        id: \"tbarReportContainer\",\n        className: \"tbarReportContainer\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 75\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        id: \"PanelScrollY_ReportContainer\",\n        style: {\n          width: 'calc(100% + 210px)'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 76\n        },\n        __self: this\n      }, this.props.optionMenu.dateFilter === 'true' ? React.createElement(\"div\", {\n        id: \"panelFieldReport\",\n        className: \"panelFieldReport\",\n        style: {\n          width: '250px'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 79\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        id: \"form_content_field_PanelCampos_Reports_Infotipri_desde\",\n        materialdesign: \"false\",\n        className: \"formContentField\",\n        style: {\n          width: '250px',\n          minHeight: '30px',\n          display: 'block'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 80\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        id: \"form_label_PanelCampos_Reports_Infotipri_desde\",\n        className: \"formLabelReport\",\n        style: {\n          width: 'auto',\n          paddingTop: '8px'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 81\n        },\n        __self: this\n      }, \"Fecha inicio\"), React.createElement(\"div\", {\n        id: \"form_field_PanelCampos_Reports_Infotipri_desde\",\n        className: \"formDateReport\",\n        style: {\n          width: 'auto',\n          left: '100px'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 82\n        },\n        __self: this\n      }, React.createElement(DatePicker, {\n        onChange: this.changeDate1.bind(this),\n        format: \"y-MM-dd\",\n        value: this.state.date1,\n        style: {\n          position: 'absolute'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 83\n        },\n        __self: this\n      }))), React.createElement(\"div\", {\n        \"data-role\": \"div-empty\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 86\n        },\n        __self: this\n      }), React.createElement(\"div\", {\n        id: \"form_content_field_PanelCampos_Reports_Infotipri_hasta\",\n        materialdesign: \"false\",\n        className: \"formContentField\",\n        style: {\n          width: '250px',\n          minHeight: '30px',\n          display: 'block'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 87\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        id: \"form_label_PanelCampos_Reports_Infotipri_hasta\",\n        className: \"formLabelReport\",\n        style: {\n          width: 'auto',\n          paddingTop: '8px'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 88\n        },\n        __self: this\n      }, \"Fecha fin\"), React.createElement(\"div\", {\n        id: \"form_field_PanelCampos_Reports_Infotipri_hasta\",\n        className: \"formDateReport\",\n        style: {\n          width: 'auto',\n          left: '100px'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 89\n        },\n        __self: this\n      }, React.createElement(DatePicker, {\n        onChange: this.changeDate2.bind(this),\n        format: \"y-MM-dd\",\n        value: this.state.date2,\n        style: {\n          position: 'absolute'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 90\n        },\n        __self: this\n      }))), React.createElement(\"div\", {\n        \"data-role\": \"div-empty\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 93\n        },\n        __self: this\n      })) : '', React.createElement(\"div\", {\n        id: \"PanelBotones_Reports_Infotipri\",\n        className: \"PanelBotonesReport\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 97\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        id: \"win-btn-1\",\n        className: \"reportBtn btnReportContainer\",\n        style: {\n          width: '65px',\n          backgroundColor: '#FFF !important'\n        },\n        \"data-role\": \"win-btn\",\n        \"data-state\": \"enable\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 98\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        style: {\n          textAlign: 'center'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 99\n        },\n        __self: this\n      }, React.createElement(MaterialIcon, {\n        size: 24,\n        icon: \"flash_on\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 100\n        },\n        __self: this\n      })), React.createElement(\"button\", {\n        className: \"save\",\n        os: \"windows\",\n        onClick: this.generaReport.bind(this),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 102\n        },\n        __self: this\n      }, \"Generar Informe\")), React.createElement(\"div\", {\n        \"data-role\": \"div-empty\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 104\n        },\n        __self: this\n      }), this.props.optionMenu.btnExcel === 'true' ? React.createElement(\"div\", {\n        id: \"win-btn-2\",\n        className: \"reportBtn btnReportContainer\",\n        style: {\n          width: '65px',\n          backgroundColor: '#FFF !important'\n        },\n        \"data-role\": \"win-btn\",\n        \"data-state\": \"enable\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 107\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        style: {\n          textAlign: 'center'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 108\n        },\n        __self: this\n      }, React.createElement(MaterialIcon, {\n        size: 24,\n        icon: \"arrow_downward\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 109\n        },\n        __self: this\n      })), React.createElement(\"button\", {\n        className: \"save\",\n        os: \"windows\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 111\n        },\n        __self: this\n      }, \"Generar Excel\")) : '', React.createElement(\"div\", {\n        \"data-role\": \"div-empty\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 115\n        },\n        __self: this\n      }), this.props.optionMenu.btnPDF === 'true' ? React.createElement(\"div\", {\n        id: \"win-btn-3\",\n        className: \"reportBtn btnReportContainer\",\n        style: {\n          width: '65px',\n          backgroundColor: '#FFF !important'\n        },\n        \"data-role\": \"win-btn\",\n        \"data-state\": \"enable\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 118\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        style: {\n          textAlign: 'center'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 119\n        },\n        __self: this\n      }, React.createElement(MaterialIcon, {\n        size: 24,\n        icon: \"picture_as_pdf\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 120\n        },\n        __self: this\n      })), React.createElement(\"button\", {\n        className: \"save\",\n        os: \"windows\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 122\n        },\n        __self: this\n      }, \"Generar PDF\")) : '', React.createElement(\"div\", {\n        \"data-role\": \"div-empty\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 126\n        },\n        __self: this\n      })))), React.createElement(\"div\", {\n        id: \"PanelInforme_Reports_Infotipri\",\n        className: \"PanelReport\",\n        style: {\n          height: 'calc(100% - 91px)'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 130\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        id: \"InformeFile_Reports_Infotipri\",\n        className: \"ReportContainer\",\n        tamano: \"letter\",\n        orientacion: \"V\",\n        style: {\n          maxWidth: '812px',\n          minWidth: '812px'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 131\n        },\n        __self: this\n      }, React.createElement(DataReportContainer, {\n        dataObject: this.state.dataObject,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 132\n        },\n        __self: this\n      })))) : '');\n    }\n  }]);\n\n  return ReportContainer;\n}(Component);\n\nexport default ReportContainer;","map":{"version":3,"sources":["C:\\PROYECTOS\\chatarreria-front\\src\\components\\reports\\ReportContainer.js"],"names":["React","Component","DataReportContainer","MaterialIcon","DatePicker","axios","alertify","ReportContainer","props","context","state","date1","Date","date2","dataObject","val","setState","fecha1","fecha2","error","getTime","getTimezoneOffset","toISOString","split","get","apiUrl","optionMenu","table","withCredentials","params","then","res","response","data","msg","alert","detail","total","catch","err","console","log","height","label","width","dateFilter","minHeight","display","paddingTop","left","changeDate1","bind","position","changeDate2","backgroundColor","textAlign","generaReport","btnExcel","btnPDF","maxWidth","minWidth"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\r\nimport DataReportContainer from './DataReportContainer';\r\nimport MaterialIcon from 'material-icons-react';\r\nimport DatePicker from 'react-date-picker';\r\nimport axios from 'axios';\r\nimport alertify from 'alertifyjs';\r\nimport '../../css/alertify.css';\r\n\r\nimport './reports.css';\r\n\r\nclass ReportContainer extends Component {\r\n\tconstructor(props, context) { \r\n     \tsuper(props, context);  \r\n\r\n        this.state = {\r\n            date1 : new Date(),\r\n            date2 : new Date(),\r\n            dataObject : ''\r\n        }\r\n\t} \r\n    //manejadores de los datepicker\r\n    changeDate1(val){        \r\n        this.setState({ date1 : val });\r\n    }\r\n    changeDate2(val){        \r\n        this.setState({ date2 : val });        \r\n    }\r\n    generaReport(val){\r\n        let fecha1 = this.state.date1;\r\n        let fecha2 = this.state.date2;        \r\n\r\n        if(fecha1 === null){\r\n            alertify.error(\"Favor ingrese fecha inicial!\");             \r\n            return;\r\n        }\r\n        if(fecha2 === null){            \r\n            alertify.error(\"Favor ingrese fecha final!\");  \r\n            return;\r\n        }\r\n\r\n        fecha1 = new Date(fecha1.getTime() - (fecha1.getTimezoneOffset() * 60000 )).toISOString().split(\"T\")[0];\r\n        fecha2 = new Date(fecha2.getTime() - (fecha2.getTimezoneOffset() * 60000 )).toISOString().split(\"T\")[0];\r\n\r\n        //generacion del reporte     \r\n        axios.get(this.props.apiUrl+this.props.optionMenu.table+'Report', {\r\n            withCredentials: true, \r\n            params: { \r\n                                \r\n            } \r\n        })\r\n        .then(res => {\r\n            var response = res.data; \r\n            if (response.msg === \"error\") {\r\n                alertify.alert('Error!', 'Ha ocurrido un error accesando a la base de datos!<br />Codigo de Error: '+response.detail);\r\n            } else {                \r\n                this.setState({ dataObject: response[0].total })\r\n            }\r\n        })\r\n        .catch( err => {            \r\n            alertify.alert('Error!', 'No se ha logrado la conexion con el servidor!<br />'+err);\r\n        });\r\n\r\n        //this\r\n\r\n        console.log(fecha1+'-->'+fecha2);\r\n\r\n    }\t\t\r\n  \trender() {\r\n        //console.log(this.props.optionMenu);\r\n  \t  \treturn ( \r\n            <div id=\"BodyReportContainer\" style={{height: '100%'}}>\r\n            {                \r\n                this.props.optionMenu.label ? \r\n                    <div  style={{height: '100%'}}>\r\n                         <div id=\"tbarReportContainer\" className=\"tbarReportContainer\">\r\n                             <div id=\"PanelScrollY_ReportContainer\" style={{width: 'calc(100% + 210px)'}}>\r\n                                 {\r\n                                    this.props.optionMenu.dateFilter === 'true' ?\r\n                                        <div id=\"panelFieldReport\" className=\"panelFieldReport\" style={{width: '250px'}}>\r\n                                            <div id=\"form_content_field_PanelCampos_Reports_Infotipri_desde\" materialdesign=\"false\" className=\"formContentField\" style={{width:'250px', minHeight:'30px', display:'block'}}>\r\n                                                <div id=\"form_label_PanelCampos_Reports_Infotipri_desde\" className=\"formLabelReport\" style={{width:'auto', paddingTop: '8px'}}>Fecha inicio</div>\r\n                                                <div id=\"form_field_PanelCampos_Reports_Infotipri_desde\" className=\"formDateReport\" style={{width:'auto',left:'100px'}}>                                                    \r\n                                                    <DatePicker onChange={ this.changeDate1.bind(this) } format={\"y-MM-dd\"} value={this.state.date1} style={{ position : 'absolute' }}/>\r\n                                                 </div>\r\n                                            </div>\r\n                                            <div data-role=\"div-empty\"></div>\r\n                                            <div id=\"form_content_field_PanelCampos_Reports_Infotipri_hasta\" materialdesign=\"false\" className=\"formContentField\" style={{width:'250px',minHeight:'30px', display:'block'}}>\r\n                                                <div id=\"form_label_PanelCampos_Reports_Infotipri_hasta\" className=\"formLabelReport\" style={{width:'auto', paddingTop: '8px'}}>Fecha fin</div>\r\n                                                <div id=\"form_field_PanelCampos_Reports_Infotipri_hasta\" className=\"formDateReport\" style={{width:'auto',left:'100px'}}>                                                    \r\n                                                    <DatePicker onChange={ this.changeDate2.bind(this) } format={\"y-MM-dd\"} value={this.state.date2} style={{ position : 'absolute' }}/>\r\n                                                </div>                          \r\n                                            </div>\r\n                                            <div data-role=\"div-empty\"></div>\r\n                                        </div>\r\n                                    : ''\r\n                                 }                                    \r\n                                 <div id=\"PanelBotones_Reports_Infotipri\" className=\"PanelBotonesReport\">\r\n                                     <div id=\"win-btn-1\" className=\"reportBtn btnReportContainer\" style={{width:'65px',backgroundColor: '#FFF !important'}} data-role=\"win-btn\" data-state=\"enable\"> \r\n                                         <div style={{textAlign:'center'}}>\r\n                                             <MaterialIcon size={24} icon=\"flash_on\" />\r\n                                         </div>                              \r\n                                         <button className=\"save\" os=\"windows\" onClick={ this.generaReport.bind(this) }>Generar Informe</button>\r\n                                     </div>\r\n                                     <div data-role=\"div-empty\"></div>\r\n                                     {\r\n                                        this.props.optionMenu.btnExcel === 'true' ?\r\n                                            <div id=\"win-btn-2\" className=\"reportBtn btnReportContainer\" style={{width:'65px',backgroundColor: '#FFF !important'}} data-role=\"win-btn\" data-state=\"enable\">                                 \r\n                                                <div style={{textAlign:'center'}}>\r\n                                                    <MaterialIcon size={24} icon=\"arrow_downward\" />\r\n                                                </div>\r\n                                                <button className=\"save\" os=\"windows\">Generar Excel</button>\r\n                                            </div>\r\n                                        : ''\r\n                                     }\r\n                                     <div data-role=\"div-empty\"></div>\r\n                                     {\r\n                                        this.props.optionMenu.btnPDF === 'true' ?\r\n                                            <div id=\"win-btn-3\" className=\"reportBtn btnReportContainer\" style={{width:'65px',backgroundColor: '#FFF !important'}} data-role=\"win-btn\" data-state=\"enable\">                                 \r\n                                                <div style={{textAlign:'center'}}>\r\n                                                    <MaterialIcon size={24} icon=\"picture_as_pdf\" />\r\n                                                </div>\r\n                                                <button className=\"save\" os=\"windows\">Generar PDF</button>\r\n                                            </div>\r\n                                        : ''\r\n                                     }\r\n                                     <div data-role=\"div-empty\"></div>\r\n                                 </div>\r\n                             </div>\r\n                         </div>\r\n                         <div id=\"PanelInforme_Reports_Infotipri\" className=\"PanelReport\" style={{height: 'calc(100% - 91px)'}}>\r\n                             <div id=\"InformeFile_Reports_Infotipri\" className=\"ReportContainer\" tamano=\"letter\" orientacion=\"V\" style={{maxWidth: '812px', minWidth: '812px'}}>\r\n                                 <DataReportContainer dataObject={this.state.dataObject}/>\r\n                             </div>\r\n                         </div>\r\n                     </div>\r\n                : ''\r\n                                                            \r\n            }\r\n            </div>\r\n        );\r\n  \t}\r\n}\r\n\r\nexport default ReportContainer"]},"metadata":{},"sourceType":"module"}