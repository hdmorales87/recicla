{"ast":null,"code":"var instance = require('./instance');\n\nvar defaults = {\n  type: 0,\n  // alert, confirm, save, prompt\n  title: '',\n  message: '',\n  ok: 'ok',\n  cancel: 'cancel',\n  placeholder: '' // Only used in prompts\n\n};\n\nvar getButtons = function getButtons(config) {\n  var ok = config.ok,\n      cancel = config.cancel,\n      type = config.type;\n  return type === 'alert' ? [ok] : [ok, cancel];\n};\n\nvar alert = function alert(opts) {\n  var config = Object.assign({}, defaults, opts);\n  return new Promise(function (resolve, reject) {\n    var state = Object.assign({}, config, {\n      active: true,\n      buttons: getButtons(config),\n      onCancel: function onCancel() {\n        return reject(new Error('cancel'));\n      },\n      onClose: function onClose() {\n        return reject(new Error('close'));\n      },\n      onOk: function onOk(value) {\n        return resolve(value);\n      }\n    });\n    instance.get().setState(state);\n  });\n};\n\nmodule.exports = function (opts) {\n  return Promise.resolve(opts).then(alert);\n};","map":null,"metadata":{},"sourceType":"script"}