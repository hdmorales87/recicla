{"ast":null,"code":"/**\r\n* ApiCalls\r\n*\r\n* Contiene todas las llamadas a la API\r\n*\r\n* @author Hector Morales <warrior1987@gmail.com>\r\n*/\nimport axios from 'axios';\nimport globalState from '../configuration/GlobalState';\nvar path = \"http://\" + window.location.hostname + \":5001/\";\nexport function login(id_empresa, username, password) {\n  //consulta si el usuario existe con los datos ingresados\n  return axios.get(path + 'login/' + id_empresa + '/' + username + '/' + password, {\n    withCredentials: true\n  });\n}\nexport function validaEmpresa(id_empresa) {\n  //consulta si la empresa existe\n  return axios.get(path + 'validaEmpresa/' + id_empresa, {\n    withCredentials: true\n  });\n}\nexport function checkSession() {\n  //consulta si la sesion esta activa\n  return axios.get(path + 'checkSession', {\n    withCredentials: true\n  });\n}\nexport function logout() {\n  //cierra la sesion\n  return axios.get(path + 'logout', {\n    withCredentials: true\n  });\n}\nexport function consultarFilas(apiField, searchWord, date1, date2, sqlParams) {\n  var companyData = globalState.getState().companyData;\n  var id_empresa = 0;\n\n  if (companyData !== undefined) {\n    id_empresa = globalState.getState().companyData[0].id;\n  } //consulta el numero de filas de la grilla\n\n\n  return axios.get(path + 'dataGridRows', {\n    withCredentials: true,\n    params: {\n      searchWord: searchWord,\n      id_empresa: id_empresa,\n      date1: date1,\n      date2: date2,\n      sqlParams: sqlParams,\n      tabla: apiField\n    }\n  });\n}\nexport function cargarFilas(apiField, searchWord, showRecords, offsetRecord, date1, date2, sqlParams, modo) {\n  var companyData = globalState.getState().companyData;\n  var id_empresa = 0;\n\n  if (companyData !== undefined) {\n    id_empresa = globalState.getState().companyData[0].id;\n  } //trae las filas filas de la grilla\n\n\n  return axios.get(path + 'dataGrid', {\n    withCredentials: true,\n    params: {\n      searchWord: searchWord,\n      showRecords: showRecords,\n      offsetRecord: offsetRecord,\n      id_empresa: id_empresa,\n      date1: date1,\n      date2: date2,\n      sqlParams: sqlParams,\n      tabla: apiField,\n      mode: modo\n    }\n  });\n}\nexport function eliminarFilas(apiField, id) {\n  //elimina una fila de la grilla\n  return axios.delete(path + 'dataGrid', {\n    data: {\n      id: id,\n      tabla: apiField\n    },\n    withCredentials: true\n  });\n}\nexport function insertarActualizarFila(method, apiField, arrayData) {\n  //inserta actualiza una fila en la grilla\n  return axios({\n    method: method,\n    url: path + 'dataGrid',\n    data: {\n      arrayData: arrayData,\n      tabla: apiField\n    },\n    withCredentials: true\n  });\n}\nexport function sendEmailPassword(email) {\n  //envia correo para cambiar password\n  return axios({\n    method: 'post',\n    url: path + 'emailPassword',\n    data: {\n      'email': email\n    },\n    withCredentials: true\n  });\n}\nexport function checkToken(email, token) {\n  //chequea si el token del correo es el vigente\n  return axios({\n    method: 'post',\n    url: path + 'checkToken',\n    data: {\n      'email': email,\n      'token': token\n    },\n    withCredentials: true\n  });\n}\nexport function updatePassword(email, password) {\n  //actualiza el password\n  return axios({\n    method: 'post',\n    url: path + 'updatePassword',\n    data: {\n      'email': email,\n      'password': password\n    },\n    withCredentials: true\n  });\n}\nexport function uploaderFile(file, table, field, id, folder) {\n  var formData = new FormData();\n  formData.append(\"file\", file);\n  formData.append(\"table\", table);\n  formData.append(\"field\", field);\n  formData.append(\"id\", id);\n  formData.append(\"folder\", folder); //enviar el archivo\n\n  return axios.post(path + 'uploaderFile', formData, {\n    withCredentials: true,\n    headers: {\n      'content-type': 'multipart/form-data'\n    }\n  });\n}\nexport function listadoPermisos(idRol) {\n  //consulta el numero de filas de la grilla\n  return axios.get(path + 'listadoPermisos', {\n    withCredentials: true,\n    params: {\n      idRol: idRol\n    }\n  });\n}\nexport function guardaPermisos(idRol, arrayPermisos) {\n  //actualiza los permisos\n  return axios({\n    method: 'post',\n    url: path + 'guardaPermisos',\n    data: {\n      'idRol': idRol,\n      'arrayPermisos': arrayPermisos\n    },\n    withCredentials: true\n  });\n}\nexport function validarPermiso(idRol, idPermiso) {\n  //consulta el numero de filas de la grilla\n  return axios.get(path + 'validarPermiso', {\n    withCredentials: true,\n    params: {\n      idRol: idRol,\n      idPermiso: idPermiso\n    }\n  });\n}\nexport function indicadorCompras1(date1, date2) {\n  //consulta el numero de filas de la grilla\n  var companyData = globalState.getState().companyData;\n  var id_empresa = 0;\n\n  if (companyData !== undefined) {\n    id_empresa = globalState.getState().companyData[0].id;\n  }\n\n  return axios.get(path + 'indicadorCompras1', {\n    withCredentials: true,\n    params: {\n      date1: date1,\n      date2: date2,\n      id_empresa: id_empresa\n    }\n  });\n}\nexport function indicadorVentas1(date1, date2) {\n  //consulta el numero de filas de la grilla\n  var companyData = globalState.getState().companyData;\n  var id_empresa = 0;\n\n  if (companyData !== undefined) {\n    id_empresa = globalState.getState().companyData[0].id;\n  }\n\n  return axios.get(path + 'indicadorVentas1', {\n    withCredentials: true,\n    params: {\n      date1: date1,\n      date2: date2,\n      id_empresa: id_empresa\n    }\n  });\n}\nexport function indicadorGraficoCompras1(date1, date2) {\n  //consulta el numero de filas de la grilla\n  var companyData = globalState.getState().companyData;\n  var id_empresa = 0;\n\n  if (companyData !== undefined) {\n    id_empresa = globalState.getState().companyData[0].id;\n  }\n\n  return axios.get(path + 'indicadorGraficoCompras1', {\n    withCredentials: true,\n    params: {\n      date1: date1,\n      date2: date2,\n      id_empresa: id_empresa\n    }\n  });\n}\nexport function indicadorGraficoVentas1(date1, date2) {\n  //consulta el numero de filas de la grilla\n  var companyData = globalState.getState().companyData;\n  var id_empresa = 0;\n\n  if (companyData !== undefined) {\n    id_empresa = globalState.getState().companyData[0].id;\n  }\n\n  return axios.get(path + 'indicadorGraficoVentas1', {\n    withCredentials: true,\n    params: {\n      date1: date1,\n      date2: date2,\n      id_empresa: id_empresa\n    }\n  });\n}\nexport function indicadorCompras2(date1, date2) {\n  //consulta el numero de filas de la grilla\n  var companyData = globalState.getState().companyData;\n  var id_empresa = 0;\n\n  if (companyData !== undefined) {\n    id_empresa = globalState.getState().companyData[0].id;\n  }\n\n  return axios.get(path + 'indicadorCompras2', {\n    withCredentials: true,\n    params: {\n      date1: date1,\n      date2: date2,\n      id_empresa: id_empresa\n    }\n  });\n}\nexport function indicadorVentas2(date1, date2) {\n  //consulta el numero de filas de la grilla\n  var companyData = globalState.getState().companyData;\n  var id_empresa = 0;\n\n  if (companyData !== undefined) {\n    id_empresa = globalState.getState().companyData[0].id;\n  }\n\n  return axios.get(path + 'indicadorVentas2', {\n    withCredentials: true,\n    params: {\n      date1: date1,\n      date2: date2,\n      id_empresa: id_empresa\n    }\n  });\n}\nexport function indicadorGraficoCompras2(date1, date2) {\n  //consulta el numero de filas de la grilla\n  var companyData = globalState.getState().companyData;\n  var id_empresa = 0;\n\n  if (companyData !== undefined) {\n    id_empresa = globalState.getState().companyData[0].id;\n  }\n\n  return axios.get(path + 'indicadorGraficoCompras2', {\n    withCredentials: true,\n    params: {\n      date1: date1,\n      date2: date2,\n      id_empresa: id_empresa\n    }\n  });\n}\nexport function indicadorGraficoVentas2(date1, date2) {\n  //consulta el numero de filas de la grilla\n  var companyData = globalState.getState().companyData;\n  var id_empresa = 0;\n\n  if (companyData !== undefined) {\n    id_empresa = globalState.getState().companyData[0].id;\n  }\n\n  return axios.get(path + 'indicadorGraficoVentas2', {\n    withCredentials: true,\n    params: {\n      date1: date1,\n      date2: date2,\n      id_empresa: id_empresa\n    }\n  });\n}\nexport function listadoAccesoEmpresas(idUser) {\n  //consulta el numero de filas de la grilla\n  return axios.get(path + 'listadoAccesoEmpresas', {\n    withCredentials: true,\n    params: {\n      idUser: idUser\n    }\n  });\n}\nexport function guardaAccesoEmpresas(idUser, arrayEmpresas) {\n  //actualiza los permisos\n  return axios({\n    method: 'post',\n    url: path + 'guardaAccesoEmpresas',\n    data: {\n      'idUser': idUser,\n      'arrayEmpresas': arrayEmpresas\n    },\n    withCredentials: true\n  });\n}\nexport function validarAccesoEmpresas(idUser, idEmpresa) {\n  //consulta el numero de filas de la grilla\n  return axios.get(path + 'validarAccesoEmpresas', {\n    withCredentials: true,\n    params: {\n      idUser: idUser,\n      idEmpresa: idEmpresa\n    }\n  });\n}\nexport function checkSMTP(email, id_empresa) {\n  //envia un correo electronico para verificar la conexion SMTP\n  return axios({\n    method: 'post',\n    url: path + 'checkSMTP',\n    data: {\n      'email': email,\n      'id_empresa': id_empresa\n    },\n    withCredentials: true\n  });\n}","map":{"version":3,"sources":["F:\\PROYECTOS\\recicla\\src\\components\\api_calls\\ApiCalls.js"],"names":["axios","globalState","path","window","location","hostname","login","id_empresa","username","password","get","withCredentials","validaEmpresa","checkSession","logout","consultarFilas","apiField","searchWord","date1","date2","sqlParams","companyData","getState","undefined","id","params","tabla","cargarFilas","showRecords","offsetRecord","modo","mode","eliminarFilas","delete","data","insertarActualizarFila","method","arrayData","url","sendEmailPassword","email","checkToken","token","updatePassword","uploaderFile","file","table","field","folder","formData","FormData","append","post","headers","listadoPermisos","idRol","guardaPermisos","arrayPermisos","validarPermiso","idPermiso","indicadorCompras1","indicadorVentas1","indicadorGraficoCompras1","indicadorGraficoVentas1","indicadorCompras2","indicadorVentas2","indicadorGraficoCompras2","indicadorGraficoVentas2","listadoAccesoEmpresas","idUser","guardaAccesoEmpresas","arrayEmpresas","validarAccesoEmpresas","idEmpresa","checkSMTP"],"mappings":"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","sourcesContent":["/**\r\n* ApiCalls\r\n*\r\n* Contiene todas las llamadas a la API\r\n*\r\n* @author Hector Morales <warrior1987@gmail.com>\r\n*/\r\n\r\nimport axios from 'axios';\r\nimport globalState from '../configuration/GlobalState';\r\n\r\nconst path = \"http://\"+window.location.hostname+\":5001/\";\r\n\r\nexport function login(id_empresa,username,password){\r\n\t//consulta si el usuario existe con los datos ingresados\r\n    return axios.get(path+'login/'+id_empresa+'/'+username+'/'+password, {withCredentials: true});    \r\n}\t\r\n\r\nexport function validaEmpresa(id_empresa){\r\n\t//consulta si la empresa existe\r\n    return axios.get(path+'validaEmpresa/'+id_empresa, {withCredentials: true});\r\n}\r\n\r\nexport function checkSession(){\r\n\t//consulta si la sesion esta activa\r\n\treturn axios.get(path+'checkSession', {withCredentials: true});\r\n}\r\n\r\nexport function logout(){\r\n\t//cierra la sesion\r\n\treturn axios.get(path+'logout', {withCredentials: true});\r\n}\r\n\r\nexport function consultarFilas(apiField,searchWord,date1,date2,sqlParams){\r\n\tvar companyData = globalState.getState().companyData;\r\n\tvar id_empresa = 0;\r\n\tif(companyData !== undefined){\r\n\t\tid_empresa = globalState.getState().companyData[0].id;\r\n\t}\t\r\n\t//consulta el numero de filas de la grilla\r\n\treturn axios.get(path+'dataGridRows', {\r\n    \t\t    withCredentials: true, \r\n    \t\t    params: { \r\n    \t\t        searchWord : searchWord, \r\n    \t\t        id_empresa : id_empresa,\r\n    \t\t        date1 \t   : date1,\r\n    \t\t        date2      : date2,\r\n    \t\t        sqlParams  : sqlParams,\r\n\t\t\t\t\ttabla      : apiField\t              \r\n    \t\t    } \r\n    \t\t});\r\n}\r\n\r\nexport function cargarFilas(apiField,searchWord,showRecords,offsetRecord,date1,date2,sqlParams,modo){\r\n\tvar companyData = globalState.getState().companyData;\t\r\n\tvar id_empresa = 0;\r\n\tif(companyData !== undefined){\r\n\t\tid_empresa = globalState.getState().companyData[0].id;\r\n\t}\r\n\t//trae las filas filas de la grilla\r\n\treturn axios.get(path+'dataGrid', {\r\n\t\t\t\twithCredentials: true, \r\n\t\t\t\tparams: { \r\n\t\t\t\t\tsearchWord   : searchWord,\r\n\t\t\t\t\tshowRecords  : showRecords,\r\n\t\t\t\t\toffsetRecord : offsetRecord,\r\n\t\t\t\t\tid_empresa   : id_empresa,\r\n\t\t\t\t\tdate1        : date1,\r\n\t\t\t\t\tdate2 \t\t : date2,\r\n\t\t\t\t\tsqlParams    : sqlParams,\r\n\t\t\t\t\ttabla        : apiField,\r\n\t\t\t\t\tmode         : modo\t\t\t\t\t\r\n\t\t\t\t} \r\n\t\t\t});\r\n}\r\n\r\nexport function eliminarFilas(apiField,id){\r\n\t//elimina una fila de la grilla\r\n\treturn axios.delete(path+'dataGrid',{            \r\n        \t    data: {\r\n        \t    \tid    : id,\r\n        \t    \ttabla : apiField\r\n        \t    },\r\n        \t    withCredentials: true\r\n        \t});\r\n}\r\n\r\nexport function insertarActualizarFila(method,apiField,arrayData){\r\n\t//inserta actualiza una fila en la grilla\r\n\treturn axios({\r\n        \t    method: method,\r\n        \t    url: path+'dataGrid',\r\n        \t    data: {\r\n\t\t\t\t\tarrayData : arrayData,\r\n\t\t\t\t\ttabla \t  : apiField\r\n        \t    },\r\n        \t    withCredentials: true\r\n        \t});\t\r\n}\r\n\r\nexport function sendEmailPassword(email){\t\r\n\t//envia correo para cambiar password\r\n\treturn axios({\r\n        \t    method: 'post',\r\n        \t    url: path+'emailPassword',\r\n        \t    data: { 'email': email },\r\n        \t    withCredentials: true\r\n        \t});\t\r\n}\r\n\r\nexport function checkToken(email,token){\t\r\n\t//chequea si el token del correo es el vigente\r\n\treturn axios({\r\n        \t    method: 'post',\r\n        \t    url: path+'checkToken',\r\n        \t    data: { 'email': email,'token': token },\r\n        \t    withCredentials: true\r\n        \t});\t\r\n}\r\n\r\nexport function updatePassword(email,password){\t\r\n\t//actualiza el password\r\n\treturn axios({\r\n        \t    method: 'post',\r\n        \t    url: path+'updatePassword',\r\n        \t    data: { 'email': email,'password': password },\r\n        \t    withCredentials: true\r\n        \t});\t\r\n}\r\n\r\nexport function uploaderFile(file,table,field,id,folder){\t\r\n\tvar formData = new FormData();\r\n\tformData.append(\"file\", file);\r\n\tformData.append(\"table\", table);\r\n\tformData.append(\"field\", field);\r\n\tformData.append(\"id\", id);\r\n\tformData.append(\"folder\", folder);\r\n\t//enviar el archivo\r\n\treturn axios.post(path+'uploaderFile',\r\n\t\t\t\tformData,\r\n\t\t\t\t{\r\n\t            \twithCredentials: true,\t            \r\n\t           \t\theaders: {\r\n            \t\t\t'content-type': 'multipart/form-data'\r\n        \t\t\t} \r\n\t        \t}\r\n\t        );\r\n}\r\n\r\nexport function listadoPermisos(idRol){\t\t\r\n\t//consulta el numero de filas de la grilla\r\n\treturn axios.get(path+'listadoPermisos', {\r\n    \t\t    withCredentials: true, \r\n    \t\t    params: {  \r\n    \t\t    \tidRol : idRol       \r\n    \t\t    } \r\n    \t\t});\r\n}\r\n\r\nexport function guardaPermisos(idRol,arrayPermisos){\t\r\n\t//actualiza los permisos\r\n\treturn axios({\r\n        \t    method: 'post',\r\n        \t    url: path+'guardaPermisos',\r\n        \t    data: { 'idRol': idRol,'arrayPermisos': arrayPermisos },\r\n        \t    withCredentials: true\r\n        \t});\t\r\n}\r\n\r\nexport function validarPermiso(idRol,idPermiso){\r\n\t//consulta el numero de filas de la grilla\r\n\treturn axios.get(path+'validarPermiso', {\r\n    \t\t    withCredentials: true, \r\n    \t\t    params: {  \r\n    \t\t    \tidRol \t  : idRol,\r\n    \t\t    \tidPermiso : idPermiso      \r\n    \t\t    } \r\n    \t\t});\r\n}\r\n\r\nexport function indicadorCompras1(date1,date2){\r\n\t//consulta el numero de filas de la grilla\r\n\tvar companyData = globalState.getState().companyData;\t\r\n\tvar id_empresa = 0;\r\n\tif(companyData !== undefined){\r\n\t\tid_empresa = globalState.getState().companyData[0].id;\r\n\t}\r\n\treturn axios.get(path+'indicadorCompras1', {\r\n    \t\t    withCredentials: true, \r\n    \t\t    params: {  \r\n    \t\t    \tdate1 : date1,\r\n    \t\t    \tdate2 : date2,\r\n    \t\t    \tid_empresa : id_empresa      \r\n    \t\t    } \r\n    \t\t});\r\n}\r\n\r\nexport function indicadorVentas1(date1,date2){\r\n\t//consulta el numero de filas de la grilla\r\n\tvar companyData = globalState.getState().companyData;\t\r\n\tvar id_empresa = 0;\r\n\tif(companyData !== undefined){\r\n\t\tid_empresa = globalState.getState().companyData[0].id;\r\n\t}\r\n\treturn axios.get(path+'indicadorVentas1', {\r\n    \t\t    withCredentials: true, \r\n    \t\t    params: {  \r\n    \t\t    \tdate1 : date1,\r\n    \t\t    \tdate2 : date2,\r\n    \t\t    \tid_empresa : id_empresa      \r\n    \t\t    } \r\n    \t\t});\r\n}\r\n\r\nexport function indicadorGraficoCompras1(date1,date2){\r\n\t//consulta el numero de filas de la grilla\r\n\tvar companyData = globalState.getState().companyData;\t\r\n\tvar id_empresa = 0;\r\n\tif(companyData !== undefined){\r\n\t\tid_empresa = globalState.getState().companyData[0].id;\r\n\t}\r\n\treturn axios.get(path+'indicadorGraficoCompras1', {\r\n    \t\t    withCredentials: true, \r\n    \t\t    params: {  \r\n    \t\t    \tdate1 : date1,\r\n    \t\t    \tdate2 : date2,\r\n    \t\t    \tid_empresa : id_empresa      \r\n    \t\t    } \r\n    \t\t});\r\n}\r\n\r\nexport function indicadorGraficoVentas1(date1,date2){\r\n\t//consulta el numero de filas de la grilla\r\n\tvar companyData = globalState.getState().companyData;\t\r\n\tvar id_empresa = 0;\r\n\tif(companyData !== undefined){\r\n\t\tid_empresa = globalState.getState().companyData[0].id;\r\n\t}\r\n\treturn axios.get(path+'indicadorGraficoVentas1', {\r\n    \t\t    withCredentials: true, \r\n    \t\t    params: {  \r\n    \t\t    \tdate1 : date1,\r\n    \t\t    \tdate2 : date2,\r\n    \t\t    \tid_empresa : id_empresa      \r\n    \t\t    } \r\n    \t\t});\r\n}\r\n\r\nexport function indicadorCompras2(date1,date2){\r\n\t//consulta el numero de filas de la grilla\r\n\tvar companyData = globalState.getState().companyData;\t\r\n\tvar id_empresa = 0;\r\n\tif(companyData !== undefined){\r\n\t\tid_empresa = globalState.getState().companyData[0].id;\r\n\t}\r\n\treturn axios.get(path+'indicadorCompras2', {\r\n    \t\t    withCredentials: true, \r\n    \t\t    params: {  \r\n    \t\t    \tdate1 : date1,\r\n    \t\t    \tdate2 : date2,\r\n    \t\t    \tid_empresa : id_empresa      \r\n    \t\t    } \r\n    \t\t});\r\n}\r\n\r\nexport function indicadorVentas2(date1,date2){\r\n\t//consulta el numero de filas de la grilla\r\n\tvar companyData = globalState.getState().companyData;\t\r\n\tvar id_empresa = 0;\r\n\tif(companyData !== undefined){\r\n\t\tid_empresa = globalState.getState().companyData[0].id;\r\n\t}\r\n\treturn axios.get(path+'indicadorVentas2', {\r\n    \t\t    withCredentials: true, \r\n    \t\t    params: {  \r\n    \t\t    \tdate1 : date1,\r\n    \t\t    \tdate2 : date2,\r\n    \t\t    \tid_empresa : id_empresa      \r\n    \t\t    } \r\n    \t\t});\r\n}\r\n\r\nexport function indicadorGraficoCompras2(date1,date2){\r\n\t//consulta el numero de filas de la grilla\r\n\tvar companyData = globalState.getState().companyData;\t\r\n\tvar id_empresa = 0;\r\n\tif(companyData !== undefined){\r\n\t\tid_empresa = globalState.getState().companyData[0].id;\r\n\t}\r\n\treturn axios.get(path+'indicadorGraficoCompras2', {\r\n    \t\t    withCredentials: true, \r\n    \t\t    params: {  \r\n    \t\t    \tdate1 : date1,\r\n    \t\t    \tdate2 : date2,\r\n    \t\t    \tid_empresa : id_empresa      \r\n    \t\t    } \r\n    \t\t});\r\n}\r\n\r\nexport function indicadorGraficoVentas2(date1,date2){\r\n\t//consulta el numero de filas de la grilla\r\n\tvar companyData = globalState.getState().companyData;\t\r\n\tvar id_empresa = 0;\r\n\tif(companyData !== undefined){\r\n\t\tid_empresa = globalState.getState().companyData[0].id;\r\n\t}\r\n\treturn axios.get(path+'indicadorGraficoVentas2', {\r\n    \t\t    withCredentials: true, \r\n    \t\t    params: {  \r\n    \t\t    \tdate1 : date1,\r\n    \t\t    \tdate2 : date2,\r\n    \t\t    \tid_empresa : id_empresa      \r\n    \t\t    } \r\n    \t\t});\r\n}\r\n\r\nexport function listadoAccesoEmpresas(idUser){\t\t\r\n\t//consulta el numero de filas de la grilla\r\n\treturn axios.get(path+'listadoAccesoEmpresas', {\r\n    \t\t    withCredentials: true, \r\n    \t\t    params: {  \r\n    \t\t    \tidUser : idUser       \r\n    \t\t    } \r\n    \t\t});\r\n}\r\n\r\nexport function guardaAccesoEmpresas(idUser,arrayEmpresas){\t\r\n\t//actualiza los permisos\r\n\treturn axios({\r\n        \t    method: 'post',\r\n        \t    url: path+'guardaAccesoEmpresas',\r\n        \t    data: { 'idUser': idUser,'arrayEmpresas': arrayEmpresas },\r\n        \t    withCredentials: true\r\n        \t});\t\r\n}\r\n\r\nexport function validarAccesoEmpresas(idUser,idEmpresa){\r\n\t//consulta el numero de filas de la grilla\r\n\treturn axios.get(path+'validarAccesoEmpresas', {\r\n    \t\t    withCredentials: true, \r\n    \t\t    params: {  \r\n    \t\t    \tidUser \t  : idUser,\r\n    \t\t    \tidEmpresa : idEmpresa      \r\n    \t\t    } \r\n    \t\t});\r\n}\r\n\r\nexport function checkSMTP(email,id_empresa){\r\n\t//envia un correo electronico para verificar la conexion SMTP\r\n\treturn axios({\r\n        \t    method: 'post',\r\n        \t    url: path+'checkSMTP',\r\n        \t    data: { 'email': email,'id_empresa': id_empresa },\r\n        \t    withCredentials: true\r\n        \t}); \r\n}"]},"metadata":{},"sourceType":"module"}